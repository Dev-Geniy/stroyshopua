<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Stroy Shop ‚Äî –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω –±—É–¥–º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤</title>

  <!-- –®—Ä–∏—Ñ—Ç -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <!-- Lucide (—ñ–∫–æ–Ω–∫–∏, –≥–ª–æ–±–∞–ª—å–Ω–∞ –∑–º—ñ–Ω–Ω–∞ lucide) -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    :root{
      --bg:#050509;
      --bg2:#0a0b10;
      --card:#11131c;
      --accent:#ff7a1a;
      --accent2:#ffb347;
      --danger:#ff4e6d;
      --text:#f5f5f7;
      --muted:#9da3b5;
      --radius:14px;
      --border:rgba(255,255,255,0.08);
      --shadow:0 8px 30px rgba(0,0,0,0.65);
    }

    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:'Inter',sans-serif;
      background:
        radial-gradient(circle at top left,rgba(255,122,26,0.18),transparent 55%),
        linear-gradient(180deg,#050509,#050509 40%,#0b0d14 100%);
      color:var(--text);
      overflow-x:hidden;
    }
    a{color:var(--accent);text-decoration:none}

    .hidden{display:none !important;}

    /* ===== HEADER ===== */
    header{
      position:sticky;top:0;z-index:50;
      background:
        radial-gradient(circle at top left,rgba(255,122,26,0.16),transparent 60%),
        rgba(5,5,9,0.96);
      backdrop-filter:blur(14px);
      border-bottom:1px solid var(--border);
      padding:12px 20px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
    }
    .header-left{display:flex;flex-direction:column}
    .logo{
      font-size:22px;
      font-weight:800;
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      letter-spacing:0.04em;
    }
    .logo-sub{font-size:12px;color:var(--muted)}

    .header-center{
      flex:1;
      display:flex;
      justify-content:center;
    }
    .search-bar{
      display:flex;
      align-items:center;
      gap:8px;
      padding:8px 14px;
      border-radius:999px;
      background:rgba(255,255,255,0.03);
      border:1px solid var(--border);
      max-width:360px;
      width:100%;
      box-shadow:0 0 0 1px rgba(0,0,0,0.3);
    }
    .search-bar input{
      border:0;background:transparent;outline:none;
      color:var(--text);font-size:14px;width:100%;
    }

    .header-right{
      display:flex;gap:8px;align-items:center;
    }
    .btn{
      padding:10px 14px;
      border-radius:var(--radius);
      border:0;
      cursor:pointer;
      font-weight:600;
      font-size:14px;
      display:inline-flex;
      align-items:center;
      gap:6px;
      transition:
        transform .18s ease,
        box-shadow .18s ease,
        background-position .35s ease,
        opacity .2s ease;
    }
    .btn-primary{
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      background-size:200% 200%;
      color:#000;
      box-shadow:var(--shadow);
    }
    .btn-primary:hover{
      transform:translateY(-1px);
      box-shadow:0 10px 32px rgba(0,0,0,0.8);
      background-position:100% 0;
    }
    .btn-outline{
      background:transparent;
      border:1px solid rgba(255,122,26,0.8);
      color:var(--accent);
    }
    .btn-outline:hover{
      transform:translateY(-1px);
      box-shadow:0 8px 28px rgba(0,0,0,0.7);
      background:rgba(255,122,26,0.06);
    }
    .cart-btn{
      background:radial-gradient(circle at top left,var(--accent2),var(--accent));
      color:#000;
      display:flex;align-items:center;gap:6px;
    }
    .cart-btn:hover{
      transform:translateY(-1px);
      box-shadow:0 10px 32px rgba(0,0,0,0.9);
    }
    .cart-count{
      background:#000;color:var(--accent2);
      padding:2px 7px;border-radius:999px;font-weight:800;font-size:12px;
    }

    /* ===== HERO / SLIDER ===== */
    .hero{
      padding:24px 20px 10px;
      display:flex;gap:24px;flex-wrap:wrap;
      align-items:flex-start;
    }
    .hero-left{flex:1;min-width:260px;position:relative;}
    .hero-slide{
      background:
        radial-gradient(circle at top right,rgba(255,122,26,0.15),transparent 55%),
        var(--bg2);
      border:1px solid var(--border);
      border-radius:var(--radius);
      padding:24px;
      box-shadow:var(--shadow);
      position:absolute;inset:0;
      opacity:0;transform:translateY(10px);
      transition:.35s;
    }
    .hero-slide.active{
      opacity:1;transform:translateY(0);position:relative;
    }
    .hero-slide h1{font-size:26px;margin-bottom:8px}
    .hero-slide p{font-size:14px;color:var(--muted);max-width:420px}
    .hero-cta{margin-top:14px;display:flex;gap:10px;flex-wrap:wrap}

    .hero-dots{display:flex;gap:8px;margin-top:10px;}
    .hero-dot{
      width:10px;height:10px;border-radius:50%;
      border:0;cursor:pointer;
      background:var(--border);
      transition:.2s;
    }
    .hero-dot.active{
      background:var(--accent);
      box-shadow:0 0 0 4px rgba(255,122,26,0.25);
    }

    .hero-right{
      width:280px;min-width:260px;
      background:var(--card);
      border-radius:var(--radius);
      border:1px solid var(--border);
      padding:16px;
      box-shadow:var(--shadow);
    }
    .hero-info-row{
      display:flex;gap:10px;margin-bottom:10px;
    }
    .hero-info-row i{
      padding:8px;
      border-radius:12px;
      background:rgba(255,122,26,0.1);
    }
    .hero-info-title{font-weight:700;font-size:14px}
    .hero-info-text{font-size:13px;color:var(--muted)}

    /* ===== FILTERS ===== */
    .filters{
      padding:10px 20px 20px;
      display:flex;justify-content:space-between;
      gap:16px;flex-wrap:wrap;
      border-bottom:1px solid var(--border);
    }
    .filters-left{display:flex;flex-direction:column;gap:8px}
    .filters-right{display:flex;gap:14px;flex-wrap:wrap;align-items:center}

    .categories{display:flex;gap:8px;flex-wrap:wrap;}
    .category-chip{
      padding:8px 14px;
      border-radius:999px;
      border:1px solid var(--border);
      background:rgba(255,255,255,0.02);
      cursor:pointer;
      font-size:13px;font-weight:600;
      transition:.2s;
    }
    .category-chip:hover{
      border-color:rgba(255,122,26,0.7);
    }
    .category-chip.active{
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      color:#000;border-color:transparent;
      box-shadow:0 6px 20px rgba(0,0,0,0.7);
    }

    .filters-label{font-size:13px;font-weight:600;color:var(--muted);display:block;margin-bottom:4px;}
    .filters input{
      width:80px;padding:6px;
      border-radius:var(--radius);
      border:1px solid var(--border);
      background:transparent;color:var(--text);
      font-size:13px;
    }
    .filters select{
      padding:6px 10px;border-radius:var(--radius);
      border:1px solid var(--border);
      background:var(--card);color:var(--text);
      font-size:13px;
    }

    /* ===== PRODUCTS ===== */
    .products-section{padding:20px;}
    .section-title{font-size:22px;font-weight:800;margin-bottom:16px;}
    .products-grid{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(230px,1fr));
      gap:18px;
    }
    .product-card{
      background:var(--card);
      border-radius:var(--radius);
      border:1px solid var(--border);
      box-shadow:var(--shadow);
      padding:12px;
      display:flex;flex-direction:column;
      gap:6px;
      position:relative;
      transition:.25s;
    }
    .product-card:hover{
      transform:translateY(-3px);
      box-shadow:0 10px 32px rgba(0,0,0,0.85);
      border-color:rgba(255,122,26,0.6);
    }
    .product-image-wrapper{position:relative;}
    .product-image-wrapper img{
      width:100%;height:160px;object-fit:cover;
      border-radius:var(--radius);
    }
    .product-quick-btn{
      position:absolute;bottom:10px;right:10px;
      padding:6px 10px;border-radius:var(--radius);
      border:0;background:linear-gradient(135deg,var(--accent),var(--accent2));color:#000;
      font-size:11px;font-weight:700;
      box-shadow:var(--shadow);
      cursor:pointer;opacity:0;transform:translateY(5px);
      transition:.2s;
    }
    .product-card:hover .product-quick-btn{
      opacity:1;transform:translateY(0);
    }
    .product-tag{font-size:11px;color:var(--muted);text-transform:uppercase;letter-spacing:.06em;}
    .product-title{font-size:15px;font-weight:700;}
    .product-meta{
      display:flex;justify-content:space-between;
      font-size:11px;color:var(--muted);
    }
    .product-bottom{
      margin-top:6px;
      display:flex;gap:8px;align-items:center;
    }
    .product-price{font-weight:800;font-size:17px;color:var(--accent);}

    /* –ö—ñ–ª—å–∫—ñ—Å—Ç—å */
    .qty-control{
      display:flex;align-items:center;
      border-radius:var(--radius);
      border:1px solid var(--border);
      background:var(--bg2);
      overflow:hidden;
    }
    .qty-input{
      width:52px;border:0;outline:none;
      text-align:center;
      background:transparent;color:var(--text);
      font-weight:700;font-size:14px;
      padding:4px;
    }
    .qty-arrows{
      display:flex;flex-direction:column;
      border-left:1px solid var(--border);
    }
    .qty-arrow{
      border:0;background:transparent;
      width:20px;height:16px;
      display:flex;align-items:center;justify-content:center;
      cursor:pointer;
    }
    .qty-arrow svg{width:12px;height:12px;color:var(--accent);}

    .product-add-btn{
      flex:1;justify-content:center;
      white-space:nowrap;
    }

    /* ===== INFO SECTION ===== */
    .info-section{padding:24px 20px 40px;}
    .info-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(230px,1fr));
      gap:18px;
    }
    .info-card{
      background:var(--card);
      border-radius:var(--radius);
      border:1px solid var(--border);
      box-shadow:var(--shadow);
      padding:16px;
      text-align:center;
      font-size:13px;
    }
    .info-card h3{margin:8px 0;font-size:15px;}
    .info-card p{color:var(--muted);}

    /* ===== FOOTER ===== */
    footer{
      padding:24px 20px 20px;
      border-top:1px solid var(--border);
      background:#050509;
      display:grid;
      grid-template-columns:2fr 1.1fr 1.5fr 1.8fr;
      gap:20px;
      font-size:13px;color:var(--muted);
    }
    .footer-col{min-width:0;}
    .footer-logo{
      font-size:20px;
      font-weight:800;
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      margin-bottom:6px;
    }
    .footer-copy{margin-top:10px;font-size:12px;color:#717786;}
    .footer-title{
      font-weight:700;
      font-size:14px;
      margin-bottom:8px;
      color:var(--text);
    }
    .footer-nav{
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    .footer-nav a{
      color:var(--muted);
      text-decoration:none;
      font-size:13px;
    }
    .footer-nav a:hover{
      color:var(--accent2);
    }
    .footer-link{
      display:inline-flex;
      align-items:center;
      gap:6px;
      margin-bottom:6px;
      color:var(--muted);
    }
    .footer-link i{
      width:16px;height:16px;
    }
    .footer-link:hover{
      color:var(--accent2);
    }
    .footer-phone{
      display:inline-flex;
      align-items:center;
      gap:8px;
      margin-top:6px;
      padding:8px 12px;
      border-radius:999px;
      background:radial-gradient(circle at top left,rgba(255,122,26,0.25),transparent 60%);
      border:1px solid rgba(255,122,26,0.7);
      color:var(--text);
      font-weight:700;
    }
    .footer-phone i{
      width:16px;height:16px;
    }
    .footer-phone:hover{
      box-shadow:0 10px 32px rgba(0,0,0,0.9);
      transform:translateY(-1px);
    }
    .footer-manager-box{
      display:flex;
      gap:10px;
      align-items:center;
    }
    .footer-manager-avatar{
      width:54px;height:54px;
      border-radius:50%;
      overflow:hidden;
      border:2px solid rgba(255,122,26,0.8);
      box-shadow:0 0 0 3px rgba(255,122,26,0.18);
    }
    .footer-manager-avatar img{
      width:100%;height:100%;object-fit:cover;
    }
    .footer-manager-name{
      font-weight:600;font-size:14px;margin-bottom:4px;
    }

    /* ===== MODALS ===== */
    .modal-overlay{
      position:fixed;inset:0;
      background:rgba(0,0,0,0.6);
      backdrop-filter:blur(4px);
      z-index:90;
    }
    .modal{
      position:fixed;top:50%;left:50%;
      transform:translate(-50%,-50%);
      background:var(--bg2);
      border-radius:var(--radius);
      border:1px solid var(--border);
      box-shadow:var(--shadow);
      max-width:900px;width:95%;
      max-height:90vh;overflow-y:auto;
      z-index:100;
      padding:18px;
    }
    .modal-header{
      display:flex;justify-content:space-between;align-items:center;
      margin-bottom:10px;
    }
    .modal-close{
      border:0;background:transparent;color:var(--muted);
      cursor:pointer;
    }
    .modal-body{
      display:flex;gap:18px;flex-wrap:wrap;
    }
    .modal-body img{width:280px;height:220px;object-fit:cover;border-radius:var(--radius);
    }

    .modal-info{flex:1;min-width:240px;font-size:14px;}
    .modal-info h2{margin:4px 0 6px;font-size:20px;}
    .modal-price{font-size:22px;color:var(--accent);font-weight:800;margin:8px 0;}
    .modal-desc{color:var(--muted);font-size:13px;}
    .modal-actions{margin-top:10px;display:flex;gap:8px;flex-wrap:wrap;}

    .modal-qty-row{margin-top:10px;display:flex;align-items:center;gap:6px;font-size:13px;}

    .modal-full{
      margin-top:12px;
      padding:10px 12px;
      border-radius:var(--radius);
      border:1px solid var(--border);
      background:var(--card);
      font-size:13px;
      color:var(--muted);
      display:none;
    }

    /* ===== CHECKOUT MODAL ===== */
    .checkout-form{
      display:flex;flex-direction:column;gap:10px;
      margin-top:10px;
      font-size:14px;
    }
    .checkout-form input{
      width:100%;padding:8px;border-radius:var(--radius);
      border:1px solid var(--border);
      background:var(--bg2);color:var(--text);
      outline:none;font-size:14px;
    }

    /* ===== CART DRAWER ===== */
    .cart-overlay{
      position:fixed;inset:0;
      background:rgba(0,0,0,0.5);
      z-index:80;
    }
    .cart-drawer{
      position:fixed;top:0;right:-360px;
      width:320px;max-width:90%;
      height:100vh;
      background:var(--bg2);
      border-left:1px solid var(--border);
      box-shadow:-6px 0 25px rgba(0,0,0,0.6);
      z-index:90;
      padding:14px;
      display:flex;flex-direction:column;
      transition:.3s;
    }
    .cart-drawer.open{right:0;}
    .cart-header{
      display:flex;justify-content:space-between;align-items:center;
      margin-bottom:10px;
    }
    .cart-body{
      flex:1;overflow-y:auto;
    }
    .cart-item{
      background:var(--card);
      border-radius:var(--radius);
      border:1px solid var(--border);
      padding:10px;
      margin-bottom:8px;
      font-size:13px;
    }
    .cart-footer{
      border-top:1px solid var(--border);
      padding-top:10px;
      margin-top:6px;
    }
    .cart-total-row{
      display:flex;justify-content:space-between;
      margin-bottom:10px;font-weight:700;
    }

    /* ===== TOAST ===== */
    .toast{
      position:fixed;right:16px;bottom:16px;
      background:var(--bg2);
      border-radius:var(--radius);
      padding:10px 14px;
      border:1px solid var(--border);
      box-shadow:var(--shadow);
      font-size:13px;
      opacity:0;transform:translateY(10px);
      transition:.25s;z-index:200;
    }
    .toast.show{opacity:1;transform:translateY(0);}
    
    /* ===== RESPONSIVE ===== */
    @media(max-width:900px){
      .hero{flex-direction:column;}
      .hero-right{width:100%;}
      footer{
        grid-template-columns:1fr 1fr;
      }
    }
    @media(max-width:720px){
      .header-center{order:3;width:100%;}
      .search-bar{max-width:100%;}
      footer{
        grid-template-columns:1fr;
      }
    }

    .modal-full {
        display: none;
        padding: 16px;
        border-radius: var(--radius);
        border: 1px solid var(--border);
        background: rgba(255, 255, 255, 0.04); /* –º—è–≥–∫–∏–π —Ñ–æ–Ω */
        font-size: 14px;
        line-height: 1.6;
        color: var(--text);
    }

    .modal-full p {
        margin-bottom: 12px;
    }

    .modal-full ol,
    .modal-full ul {
        padding-left: 20px;
        margin-bottom: 14px;
    }

    .modal-full li {
        margin-bottom: 8px;
    }

    .modal-full strong,
    .modal-full b {
        color: var(--accent2);
        font-weight: 700;
    }
  </style>
</head>
<body id="top">

<header>
  <div class="header-left">
    <div class="logo">Stroy Shop</div>
    <div class="logo-sub">–ë—É–¥–º–∞—Ç–µ—Ä—ñ–∞–ª–∏ –∑ –¥–æ—Å—Ç–∞–≤–∫–æ—é –ø–æ –£–∫—Ä–∞—ó–Ω—ñ</div>
  </div>

  <div class="header-center">
    <div class="search-bar">
      <i data-lucide="search"></i>
      <input id="searchInput" placeholder="–ü–æ—à—É–∫: –∫–æ–≤—Ä–æ–ª—ñ–Ω, –ø–ª–∏—Ç–∫–∞, —à–ø–∞–ª–µ—Ä–∏..." />
    </div>
  </div>

  <div class="header-right">
    <button class="btn btn-outline js-consult">
      <i data-lucide="message-circle"></i>
      –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è
    </button>
    <button class="btn cart-btn" id="openCartBtn">
      <i data-lucide="shopping-cart"></i>
      <span>–ö–æ—à–∏–∫</span>
      <span class="cart-count" id="cartCount">0</span>
    </button>
  </div>
</header>

<main>
  <!-- HERO / SLIDER -->
  <section class="hero">
    <div class="hero-left">
      <div class="hero-slide active" data-index="0">
        <h1>–†–µ–º–æ–Ω—Ç –±–µ–∑ –Ω–µ—Ä–≤—ñ–≤</h1>
        <p>–ö–æ–≤—Ä–æ–ª—ñ–Ω, –ø–ª–∏—Ç–∫–∞, —à–ø–∞–ª–µ—Ä–∏ —Ç–∞ —Å–∞–º–æ–∫–ª–µ–π–∫–∞ ‚Äî –≤—Å–µ –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ. –ü—ñ–¥–±—ñ—Ä –ø—ñ–¥ –≤–∞—à –±—é–¥–∂–µ—Ç.</p>
        <div class="hero-cta">
          <button class="btn btn-primary js-consult">
            <i data-lucide="send"></i> –ü–æ—Ç—Ä—ñ–±–Ω–∞ –ø–æ—Ä–∞–¥–∞
          </button>
          <button class="btn btn-outline" id="scrollToProductsBtn">
            –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Ç–æ–≤–∞—Ä–∏
          </button>
        </div>
      </div>
      <div class="hero-slide" data-index="1">
        <h1>–û–ø—Ç —Ç–∞ –∑–Ω–∏–∂–∫–∏</h1>
        <p>-10% –ø—Ä–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—ñ –≤—ñ–¥ 10 –º¬≤. –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó –¥–ª—è –º–∞–π—Å—Ç—Ä—ñ–≤ —Ç–∞ –¥–∏–∑–∞–π–Ω–µ—Ä—ñ–≤.</p>
        <div class="hero-cta">
          <button class="btn btn-primary js-consult">
            –ó–∞–ø–∏—Ç –Ω–∞ –æ–ø—Ç
          </button>
        </div>
      </div>
      <div class="hero-slide" data-index="2">
        <h1>–î–æ—Å—Ç–∞–≤–∫–∞ –ù–æ–≤–æ—é –ü–æ—à—Ç–æ—é</h1>
        <p>–û–ø–ª–∞—Ç–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ—Å–∏–ª–∫–∏ –Ω–∞ –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—ñ –ø–µ—Ä–µ–¥ –æ–ø–ª–∞—Ç–æ—é.</p>
        <div class="hero-cta">
          <button class="btn btn-primary js-consult">
            –ü–∏—Ç–∞–Ω–Ω—è –ø–æ –¥–æ—Å—Ç–∞–≤—Ü—ñ
          </button>
        </div>
      </div>

      <div class="hero-dots">
        <button class="hero-dot active" data-index="0"></button>
        <button class="hero-dot" data-index="1"></button>
        <button class="hero-dot" data-index="2"></button>
      </div>
    </div>

    <div class="hero-right">
      <div class="hero-info-row">
        <i data-lucide="truck"></i>
        <div>
          <div class="hero-info-title">–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –£–∫—Ä–∞—ó–Ω—ñ</div>
          <div class="hero-info-text">–ù–æ–≤–∞ –ü–æ—à—Ç–∞, –æ–ø–ª–∞—Ç–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ</div>
        </div>
      </div>
      <div class="hero-info-row">
        <i data-lucide="shield-check"></i>
        <div>
          <div class="hero-info-title">–ì–∞—Ä–∞–Ω—Ç—ñ—è —è–∫–æ—Å—Ç—ñ</div>
          <div class="hero-info-text">–ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∏ —Ç–∞ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏</div>
        </div>
      </div>
      <div class="hero-info-row">
        <i data-lucide="headphones"></i>
        <div>
          <div class="hero-info-title">–ñ–∏–≤–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä</div>
          <div class="hero-info-text">–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—ó –≤ Telegram</div>
        </div>
      </div>
    </div>
  </section>

  <!-- FILTERS -->
  <section class="filters">
    <div class="filters-left">
      <span class="filters-label">–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó:</span>
      <div class="categories" id="categories"></div>
    </div>

    <div class="filters-right">
      <div>
        <span class="filters-label">–¶—ñ–Ω–∞:</span>
        <input type="number" id="minPrice" placeholder="–≤—ñ–¥">
        <input type="number" id="maxPrice" placeholder="–¥–æ">
      </div>
      <div>
        <span class="filters-label">–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è:</span>
        <select id="sortSelect">
          <option value="default">–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º</option>
          <option value="price-asc">–°–ø–æ—á–∞—Ç–∫—É –¥–µ—à–µ–≤—à—ñ</option>
          <option value="price-desc">–°–ø–æ—á–∞—Ç–∫—É –¥–æ—Ä–æ–∂—á—ñ</option>
        </select>
      </div>
    </div>
  </section>

  <!-- PRODUCTS -->
  <section class="products-section" id="productsSection">
    <h2 class="section-title">–ü–æ–ø—É–ª—è—Ä–Ω—ñ —Ç–æ–≤–∞—Ä–∏</h2>
    <div class="products-grid" id="productsGrid"></div>
  </section>

  <!-- INFO -->
  <section class="info-section" id="howToOrder">
    <h2 class="section-title">–Ø–∫ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>
    <div class="info-grid">
      <div class="info-card">
        <h3>1. –û–±–∏—Ä–∞—î—Ç–µ —Ç–æ–≤–∞—Ä–∏</h3>
        <p>–î–æ–¥–∞—î—Ç–µ –≤ –∫–æ—à–∏–∫ –ø–æ–∑–∏—Ü—ñ—ó —Ç–∞ –ø–æ—Ç—Ä—ñ–±–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å. –ú–æ–∂–Ω–∞ –∫–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó.</p>
      </div>
      <div class="info-card">
        <h3>2. –ó–∞–ø–æ–≤–Ω—é—î—Ç–µ –¥–∞–Ω—ñ</h3>
        <p>–ù–∞—Ç–∏—Å–∫–∞—î—Ç–µ ¬´–û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è¬ª ‚Äî –º–∏ –∑–≥–µ–Ω–µ—Ä—É—î–º–æ —Ç–µ–∫—Å—Ç –∑–∞—è–≤–∫–∏ –≤ Telegram.</p>
      </div>
      <div class="info-card">
        <h3>3. –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –ù–æ–≤–æ—é –ü–æ—à—Ç–æ—é</h3>
        <p>–£—Ç–æ—á–Ω—é—î–º–æ –∑ –≤–∞–º–∏ –¥–µ—Ç–∞–ª—ñ, –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–æ –ø–æ—Å–∏–ª–∫—É. –û–ø–ª–∞—Ç–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ.</p>
      </div>
    </div>
  </section>
</main>

<footer>
  <div class="footer-col footer-brand">
    <div class="footer-logo">Stroy Shop</div>
    <p>–Ü–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω –±—É–¥—ñ–≤–µ–ª—å–Ω–∏—Ö –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤. –ü—ñ–¥–±—ñ—Ä, –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è —Ç–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ –ø–æ –≤—Å—ñ–π –£–∫—Ä–∞—ó–Ω—ñ.</p>
    <div class="footer-copy">¬© <span id="year"></span> Stroy Shop. –í—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ.</div>
  </div>

  <div class="footer-col footer-nav-col">
    <div class="footer-title">–ù–∞–≤—ñ–≥–∞—Ü—ñ—è</div>
    <nav class="footer-nav">
      <a href="#productsSection">–ö–∞—Ç–∞–ª–æ–≥</a>
      <a href="#howToOrder">–Ø–∫ –∑–∞–º–æ–≤–∏—Ç–∏</a>
      <a href="#top">–ê–∫—Ü—ñ—ó —Ç–∞ –∑–Ω–∏–∂–∫–∏</a>
    </nav>
  </div>

  <div class="footer-col footer-contacts">
    <div class="footer-title">–ö–æ–Ω—Ç–∞–∫—Ç–∏</div>
    <a href="https://t.me/stroy_shop_ua" target="_blank" class="footer-link">
      <i data-lucide="send"></i> Telegram-–∫–∞–Ω–∞–ª
    </a>
    <a href="https://www.tiktok.com/@stroyshop_ua" target="_blank" class="footer-link">
      <i data-lucide="play-circle"></i> TikTok: @stroyshop_ua
    </a>
    <a href="tel:+380984927948" class="footer-phone">
      <i data-lucide="phone"></i> +380&nbsp;98&nbsp;492&nbsp;79&nbsp;48
    </a>
  </div>

  <div class="footer-col footer-manager">
    <div class="footer-title">–í–∞—à –º–µ–Ω–µ–¥–∂–µ—Ä</div>
    <div class="footer-manager-box">
      <div class="footer-manager-avatar">
        <img src="https://i.ibb.co/dqqPKMb/unnamed-1.jpg" alt="–ú–µ–Ω–µ–¥–∂–µ—Ä –º–∞–≥–∞–∑–∏–Ω—É">
      </div>
      <div>
        <div class="footer-manager-name">–ú–µ–Ω–µ–¥–∂–µ—Ä Stroy Shop</div>
        <a href="https://t.me/manager_stroyshop_ua" target="_blank" class="footer-link">
          <i data-lucide="message-circle"></i> –ù–∞–ø–∏—Å–∞—Ç–∏ –≤ Telegram
        </a>
      </div>
    </div>
  </div>
</footer>

<!-- PRODUCT MODAL -->
<div id="productModalOverlay" class="modal-overlay hidden"></div>
<div id="productModal" class="modal hidden">
  <div class="modal-header">
    <h3>–¢–æ–≤–∞—Ä</h3>
    <button class="modal-close" id="productModalClose"><i data-lucide="x"></i></button>
  </div>
  <div class="modal-body">
    <img id="modalImage" src="" alt="">
    <div class="modal-info">
      <div class="filters-label" id="modalCategory"></div>
      <h2 id="modalTitle"></h2>
      <div>–ê—Ä—Ç–∏–∫—É–ª: <span id="modalSku"></span></div>
      <div class="modal-price" id="modalPrice"></div>
      <div class="modal-desc" id="modalShort"></div>

      <div class="modal-qty-row">
        <span>–ö—ñ–ª—å–∫—ñ—Å—Ç—å:</span>
        <div class="qty-control">
          <input type="number" id="modalQtyInput" class="qty-input" min="1" value="1">
          <div class="qty-arrows">
            <button class="qty-arrow" id="modalQtyUp"><i data-lucide="chevron-up"></i></button>
            <button class="qty-arrow" id="modalQtyDown"><i data-lucide="chevron-down"></i></button>
          </div>
        </div>
      </div>

      <div class="modal-actions">
        <button class="btn btn-primary" id="modalAddToCart">
          <i data-lucide="shopping-cart"></i> –î–æ–¥–∞—Ç–∏ —É –∫–æ—à–∏–∫
        </button>
        <button class="btn btn-outline" id="modalToggleFull">
          –î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å
        </button>
      </div>

      <div class="modal-full" id="modalFull"></div>






<div class="modal-help">
  <div style="display:flex;align-items:center;gap:14px;margin-top:24px;padding:16px;border:1px solid var(--border);border-radius:var(--radius);background:rgba(255,255,255,0.03);box-shadow:var(--shadow);">
    <div style="flex-shrink:0;width:52px;height:52px;border-radius:50%;overflow:hidden;border:2px solid var(--accent2);">
      <img src="https://i.ibb.co/dqqPKMb/unnamed-1.jpg" alt="–ú–µ–Ω–µ–¥–∂–µ—Ä" style="width:100%;height:100%;object-fit:cover;">
    </div>
    <div style="flex:1;">
      <div style="font-weight:700;margin-bottom:4px;">–ù–µ –∑–Ω–∞–π—à–ª–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è?</div>
      <a href="https://t.me/manager_stroyshop_ua" target="_blank" class="btn btn-outline">
        <i data-lucide="message-circle"></i> –ó–≤'—è–∑–∞—Ç–∏—Å—è –∑ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º
      </a>
    </div>
  </div>
  <div class="hero-info-row" style="margin-top:18px;">
    <i data-lucide="truck"></i>
    <div>
      <div class="hero-info-title">–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –£–∫—Ä–∞—ó–Ω—ñ</div>
      <div class="hero-info-text">–ù–æ–≤–∞ –ü–æ—à—Ç–∞, –æ–ø–ª–∞—Ç–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ</div>
    </div>
  </div>
  <div class="hero-info-row">
    <i data-lucide="shield-check"></i>
    <div>
      <div class="hero-info-title">–ì–∞—Ä–∞–Ω—Ç—ñ—è —è–∫–æ—Å—Ç—ñ</div>
      <div class="hero-info-text">–ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∏</div>
    </div>
  </div>
  <div class="hero-info-row">
    <i data-lucide="headphones"></i>
    <div>
      <div class="hero-info-title">–ñ–∏–≤–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä</div>
      <div class="hero-info-text">Telegram-–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—ó</div>
    </div>
  </div>
</div>






      
    </div>
  </div>
</div>

<!-- CHECKOUT MODAL -->
<div id="checkoutOverlay" class="modal-overlay hidden"></div>
<div id="checkoutModal" class="modal hidden">
  <div class="modal-header">
    <h3>–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h3>
    <button class="modal-close" id="checkoutClose"><i data-lucide="x"></i></button>
  </div>
  <div class="modal-body">
    <div class="modal-info">
      <p class="modal-desc">
        –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ñ –¥–∞–Ω—ñ. –ü—ñ—Å–ª—è –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–Ω–æ–ø–∫–∏ –≤—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è Telegram
        –∑ —É–∂–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–∏–º –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º. –í–∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞—Ç–∏—Å–Ω–µ—Ç–µ ¬´–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏¬ª.
      </p>
      <form class="checkout-form" id="checkoutForm">
        <label>–Ü–º‚Äô—è:<br><input id="checkoutName" required></label>
        <label>–¢–µ–ª–µ—Ñ–æ–Ω:<br><input id="checkoutPhone" required></label>
        <label>–ú—ñ—Å—Ç–æ:<br><input id="checkoutCity" required></label>
        <label>–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è –ù–æ–≤–æ—ó –ü–æ—à—Ç–∏:<br><input id="checkoutPost" required></label>
        <button class="btn btn-primary" type="submit">–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –≤ Telegram</button>
      </form>
    </div>
  </div>
</div>

<!-- CART DRAWER -->
<div id="cartOverlay" class="cart-overlay hidden"></div>
<aside id="cartDrawer" class="cart-drawer">
  <div class="cart-header">
    <h3>–ö–æ—à–∏–∫</h3>
    <button class="modal-close" id="cartClose"><i data-lucide="x"></i></button>
  </div>
  <div class="cart-body" id="cartItems"></div>
  <div class="cart-footer">
    <div class="cart-total-row">
      <span>–†–∞–∑–æ–º:</span><span id="cartTotal">0 –≥—Ä–Ω</span>
    </div>
    <button class="btn btn-primary" id="cartCheckoutBtn">–û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
    <button class="btn btn-outline" id="cartClearBtn">–û—á–∏—Å—Ç–∏—Ç–∏ –∫–æ—à–∏–∫</button>
  </div>
</aside>

<!-- TOAST -->
<div id="toast" class="toast">–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è</div>

<script>
  // ===== –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è =====
  const TELEGRAM_USERNAME = 'manager_stroyshop_ua';

  // –¢–ï–ü–ï–† –ß–ò–¢–ê–ï–ú –õ–û–ö–ê–õ–¨–ù–´–ô –§–ê–ô–õ –†–Ø–î–û–ú –° index.html
  const XML_FEED_URL = 'products.xml';

  // –î–µ—Ñ–æ–ª—Ç–Ω—ñ —Ç–æ–≤–∞—Ä–∏ –Ω–∞ –≤–∏–ø–∞–¥–æ–∫, —è–∫—â–æ XML –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å—Å—è
  const DEFAULT_PRODUCTS = [
    {
      id:1,
      title:'–ö–æ–≤—Ä–æ–ª—ñ–Ω SoftLux 4–º ‚Äî –∫—Ä–µ–º–æ–≤–∏–π',
      category:'–ö–æ–≤—Ä–æ–ª—ñ–Ω',
      price:279,
      sku:14417,
      img:'https://via.placeholder.com/600x400?text=Carpet',
      unit:'–º',
      short:'–ú‚Äô—è–∫–∏–π —ñ –∑–Ω–æ—Å–æ—Å—Ç—ñ–π–∫–∏–π –∫–æ–≤—Ä–æ–ª—ñ–Ω –¥–ª—è –∂–∏—Ç–ª–æ–≤–∏—Ö –∫—ñ–º–Ω–∞—Ç.',
      full:'–ö–æ–≤—Ä–æ–ª—ñ–Ω SoftLux ‚Äî —â—ñ–ª—å–Ω–∏–π, –ø—Ä–∏—î–º–Ω–∏–π –Ω–∞ –¥–æ—Ç–∏–∫ –º–∞—Ç–µ—Ä—ñ–∞–ª. –û–ø—Ç–∏–º–∞–ª—å–Ω–∏–π –¥–ª—è —Å–ø–∞–ª—å–Ω—ñ —Ç–∞ –≤—ñ—Ç–∞–ª—å–Ω—ñ.'
    },
    {
      id:2,
      title:'–ü–ª—ñ–≤–∫–∞ –±—ñ–ª–∞ –º–∞—Ç–æ–≤–∞ 0.45–º',
      category:'–°–∞–º–æ–∫–ª–µ–π–∫–∞',
      price:59,
      sku:14418,
      img:'https://via.placeholder.com/600x400?text=Film',
      unit:'–º',
      short:'–°–∞–º–æ–∫–ª–µ–π–Ω–∞ –ø–ª—ñ–≤–∫–∞ –¥–ª—è –º–µ–±–ª—ñ–≤ —ñ –¥–µ–∫–æ—Ä—É.',
      full:'–ú–∞—Ç–æ–≤–∏–π –±—ñ–ª–∏–π –≤—ñ–¥—Ç—ñ–Ω–æ–∫, –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è —Ñ–∞—Å–∞–¥—ñ–≤ –º–µ–±–ª—ñ–≤, –¥–≤–µ—Ä–µ–π, –ø—ñ–¥–≤—ñ–∫–æ–Ω—å. –õ–µ–≥–∫–æ –∫–ª–µ—ó—Ç—å—Å—è –±–µ–∑ –±—É–ª—å–±–∞—à–æ–∫.'
    },
    {
      id:3,
      title:'–®–ø–∞–ª–µ—Ä–∏ Modern Stone',
      category:'–®–ø–∞–ª–µ—Ä–∏',
      price:129,
      sku:14419,
      img:'https://via.placeholder.com/600x400?text=Wallpaper',
      unit:'–º',
      short:'–®–ø–∞–ª–µ—Ä–∏ –∑ –µ—Ñ–µ–∫—Ç–æ–º –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–≥–æ –∫–∞–º–µ–Ω—é.',
      full:'–¢–µ–∫—Å—Ç—É—Ä–æ–≤–∞–Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω—è –ø—ñ–¥ –∫–∞–º—ñ–Ω—å. –ü—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –∞–∫—Ü–µ–Ω—Ç–Ω–∏—Ö —Å—Ç—ñ–Ω —É –≤—ñ—Ç–∞–ª—å–Ω—ñ, –∫–æ—Ä–∏–¥–æ—Ä—ñ, –∫—É—Ö–Ω—ñ.'
    },
    {
      id:4,
      title:'–ü–ª–∏—Ç–∫–∞ —Å–∞–º–æ–∫–ª–µ–π–∫–∞ 20√ó20',
      category:'–ü–ª–∏—Ç–∫–∞',
      price:250,
      sku:14420,
      img:'https://via.placeholder.com/600x400?text=Tile',
      unit:'—à—Ç',
      short:'–°–∞–º–æ–∫–ª–µ–π–Ω—ñ –ø–ª–∏—Ç–∫–∏ –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫—É—Ö–Ω—ñ —á–∏ –≤–∞–Ω–Ω–æ—ó.',
      full:'–í–æ–¥–æ—Å—Ç—ñ–π–∫–∞ –ø–æ–≤–µ—Ä—Ö–Ω—è, –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è —Ñ–∞—Ä—Ç—É—Ö—ñ–≤ –Ω–∞ –∫—É—Ö–Ω—ñ —Ç–∞ –∑–æ–Ω –Ω–∞–≤–∫–æ–ª–æ —É–º–∏–≤–∞–ª—å–Ω–∏–∫–∞.'
    }
  ];

  // –ü–æ—Ç–æ—á–Ω–∏–π —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä—ñ–≤
  let PRODUCTS = [...DEFAULT_PRODUCTS];

  // ===== –°—Ç–∞–Ω –∫–æ—à–∏–∫–∞ =====
  let cart = JSON.parse(localStorage.getItem('stroy_shop_cart_v1') || '[]');

  function saveCart(){
    localStorage.setItem('stroy_shop_cart_v1', JSON.stringify(cart));
  }

  // ===== –î–æ–ø–æ–º—ñ–∂–Ω—ñ =====
  function money(n){ return n + ' –≥—Ä–Ω'; }

  function showToast(msg){
    const t = document.getElementById('toast');
    t.textContent = msg;
    t.classList.add('show');
    setTimeout(()=>t.classList.remove('show'), 2000);
  }

  function openTelegram(msg){
    const url = `https://t.me/${TELEGRAM_USERNAME}?text=${encodeURIComponent(msg)}`;
    window.open(url, '_blank');
  }

  // ===== –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤ –∑ –õ–û–ö–ê–õ–¨–ù–û–ì–û products.xml =====
  async function loadProductsFromXML(){
    try{
      // –í–ê–ñ–ù–û: —Ç—É—Ç —É–∂–µ –ù–ï–¢ –ø—Ä–æ–∫—Å–∏, –ø—Ä–æ—Å—Ç–æ products.xml –Ω–∞ —Ç–æ–º—É –∂–µ –¥–æ–º–µ–Ω—ñ/—à–ª—è—Ö—É
      const res = await fetch(XML_FEED_URL, { cache: 'no-store' });
      if(!res.ok) throw new Error('Bad status: ' + res.status);

      const text = await res.text();
      const parser = new DOMParser();
      const xml = parser.parseFromString(text, 'application/xml');

      const items = Array.from(xml.getElementsByTagName('item'));
      if(!items.length){
        console.warn('XML: –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ —Ç–µ–≥—ñ–≤ <item>. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é –¥–µ—Ñ–æ–ª—Ç–Ω—ñ —Ç–æ–≤–∞—Ä–∏.');
        PRODUCTS = [...DEFAULT_PRODUCTS];
        return;
      }

      const get = (node, tagName) => {
        const el = node.getElementsByTagName(tagName)[0];
        return el ? (el.textContent || '').trim() : '';
      };

      const placeholderImg = 'https://via.placeholder.com/600x400?text=–¢–æ–≤–∞—Ä';

      PRODUCTS = items
        .map((node, index) => {
          const rawId =
            get(node, 'g:id') ||
            get(node, 'id') ||
            String(index + 1);

          const numericId = Number((rawId || '').replace(/\D/g,'')) || (index + 1);

          const title =
            get(node, 'title') ||
            get(node, 'g:title') ||
            `–¢–æ–≤–∞—Ä ${numericId}`;

          const description =
            get(node, 'description') ||
            get(node, 'g:description') ||
            '';

          const priceText = get(node, 'g:price') || '0';
          const price = parseFloat(
            priceText
              .replace(',', '.')
              .replace(/[^\d.]/g, '')
          ) || 0;

          const img =
            get(node, 'g:image_link') ||
            get(node, 'g:additional_image_link') ||
            placeholderImg;

          const availability = (get(node, 'g:availability') || '').toLowerCase();

          const category =
            get(node, 'g:product_type') ||
            '–Ü–Ω—à—ñ —Ç–æ–≤–∞—Ä–∏';

          // –ø—Ä–æ–ø—É—Å–∫–∞—î–º–æ, —è–∫—â–æ –Ω–µ–º–∞—î –≤ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ
          if(availability && availability !== 'in stock'){
            return null;
          }

          return {
            id: numericId,
            title,
            category,
            price,
            sku: rawId,
            img,
            unit:'—à—Ç',
            short: description ? description.slice(0,120) : '–¢–æ–≤–∞—Ä –∑ XML-–ø—Ä–∞–π—Å—É',
            full: description || '–î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å —Ç–æ–≤–∞—Ä—É –∑ XML-–ø—Ä–∞–π—Å—É.'
          };
        })
        .filter(Boolean);

      if(!PRODUCTS.length){
        console.warn('XML –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ, –∞–ª–µ —Ç–æ–≤–∞—Ä–∏ –Ω–µ —Å—Ñ–æ—Ä–º—É–≤–∞–ª–∏—Å—è. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é –¥–µ—Ñ–æ–ª—Ç–Ω—ñ.');
        PRODUCTS = [...DEFAULT_PRODUCTS];
      }
    }catch(err){
      console.error('–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è XML:', err);
      PRODUCTS = [...DEFAULT_PRODUCTS];
      showToast('–ù–µ –≤–¥–∞–ª–æ—Å—è –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ products.xml, –ø–æ–∫–∞–∑—É—î–º–æ —Ç–µ—Å—Ç–æ–≤—ñ —Ç–æ–≤–∞—Ä–∏.');
    }
  }

  // ===== –†–µ–Ω–¥–µ—Ä –∫–∞—Ç–µ–≥–æ—Ä—ñ–π =====
  const categoriesEl = document.getElementById('categories');

  function renderCategories(){
    const categoryList = ['–£—Å—ñ', ...new Set(PRODUCTS.map(p=>p.category))];
    categoriesEl.innerHTML = '';
    categoryList.forEach(cat=>{
      const btn = document.createElement('button');
      btn.className = 'category-chip';
      btn.textContent = cat;
      if(cat === '–£—Å—ñ') btn.classList.add('active');
      btn.addEventListener('click', ()=>{
        document.querySelectorAll('.category-chip').forEach(c=>c.classList.remove('active'));
        btn.classList.add('active');
        filterProducts();
      });
      categoriesEl.appendChild(btn);
    });
  }

  // ===== –†–µ–Ω–¥–µ—Ä —Ç–æ–≤–∞—Ä—ñ–≤ =====
  const productsGrid = document.getElementById('productsGrid');

  function renderProducts(list){
    productsGrid.innerHTML = '';
    list.forEach(p=>{
      const card = document.createElement('article');
      card.className = 'product-card';
      card.innerHTML = `
        <div class="product-image-wrapper">
          <img src="${p.img}" alt="${p.title}">
          <button class="product-quick-btn js-quick-view" data-id="${p.id}">–®–≤–∏–¥–∫–∏–π –ø–µ—Ä–µ–≥–ª—è–¥</button>
        </div>
        <div class="product-tag">${p.category}</div>
        <div class="product-title">${p.title}</div>
        <div class="product-meta">
          <span>–ê—Ä—Ç–∏–∫—É–ª: ${p.sku}</span>
          <span>${p.unit}</span>
        </div>
        <div class="product-bottom">
          <div class="product-price">${money(p.price)}</div>
          <div class="qty-control">
            <input type="number" class="qty-input js-qty-input" data-id="${p.id}" min="1" value="1">
            <div class="qty-arrows">
              <button class="qty-arrow js-qty-up" data-id="${p.id}"><i data-lucide="chevron-up"></i></button>
              <button class="qty-arrow js-qty-down" data-id="${p.id}"><i data-lucide="chevron-down"></i></button>
            </div>
          </div>
          <button class="btn btn-primary product-add-btn js-add-to-cart" data-id="${p.id}">
            <i data-lucide="shopping-cart"></i> –£ –∫–æ—à–∏–∫
          </button>
        </div>
      `;
      productsGrid.appendChild(card);
    });

    lucide.createIcons();
  }

  // ===== –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è =====
  function filterProducts(){
    let list = [...PRODUCTS];
    const activeCatEl = document.querySelector('.category-chip.active');
    const activeCat = activeCatEl ? activeCatEl.textContent : '–£—Å—ñ';

    if(activeCat !== '–£—Å—ñ'){
      list = list.filter(p=>p.category === activeCat);
    }

    const q = document.getElementById('searchInput').value.trim().toLowerCase();
    if(q){
      list = list.filter(p=>p.title.toLowerCase().includes(q));
    }

    const min = parseFloat(document.getElementById('minPrice').value || '0');
    const max = parseFloat(document.getElementById('maxPrice').value || '0');
    if(min>0) list = list.filter(p=>p.price >= min);
    if(max>0) list = list.filter(p=>p.price <= max);

    const sort = document.getElementById('sortSelect').value;
    if(sort === 'price-asc') list.sort((a,b)=>a.price-b.price);
    if(sort === 'price-desc') list.sort((a,b)=>b.price-a.price);

    renderProducts(list);
  }

  // ===== –ü–æ–¥—ñ—ó –¥–ª—è —Ñ—ñ–ª—å—Ç—Ä—ñ–≤ =====
  document.getElementById('searchInput').addEventListener('input', filterProducts);
  document.getElementById('minPrice').addEventListener('input', filterProducts);
  document.getElementById('maxPrice').addEventListener('input', filterProducts);
  document.getElementById('sortSelect').addEventListener('change', filterProducts);

  // ===== –ü–æ–¥—ñ—ó –≤ –≥—Ä—ñ–¥—ñ —Ç–æ–≤–∞—Ä—ñ–≤ (–¥–µ–ª–µ–≥—É–≤–∞–Ω–Ω—è) =====
  productsGrid.addEventListener('click', (e)=>{
    const quick = e.target.closest('.js-quick-view');
    if(quick){
      const id = Number(quick.dataset.id);
      openProductModal(id);
      return;
    }

    const addBtn = e.target.closest('.js-add-to-cart');
    if(addBtn){
      const id = Number(addBtn.dataset.id);
      addToCart(id);
      return;
    }

    const up = e.target.closest('.js-qty-up');
    if(up){
      const id = Number(up.dataset.id);
      changeQty(id, +1);
      return;
    }

    const down = e.target.closest('.js-qty-down');
    if(down){
      const id = Number(down.dataset.id);
      changeQty(id, -1);
      return;
    }
  });

  function changeQty(id, delta){
    const input = document.querySelector(`.js-qty-input[data-id="${id}"]`);
    if(!input) return;
    let v = parseFloat(input.value || '1') + delta;
    if(v < 1) v = 1;
    input.value = v;
  }

  // ===== –ö–æ—à–∏–∫ =====
  function addToCart(id, qtyFromModal){
    const product = PRODUCTS.find(p=>p.id===id);
    if(!product) return;

    let qty;
    if(typeof qtyFromModal === 'number'){
      qty = qtyFromModal;
    }else{
      const input = document.querySelector(`.js-qty-input[data-id="${id}"]`);
      qty = parseFloat(input?.value || '1');
    }
    if(qty < 1 || isNaN(qty)) qty = 1;

    const existing = cart.find(it=>it.id===id);
    if(existing) existing.qty += qty;
    else cart.push({...product, qty});

    saveCart();
    updateCartUI();
    showToast('–¢–æ–≤–∞—Ä –¥–æ–¥–∞–Ω–æ —É –∫–æ—à–∏–∫');
  }

  function updateCartUI(){
    const box = document.getElementById('cartItems');
    box.innerHTML = '';
    let total = 0;
    cart.forEach(item=>{
      total += item.price * item.qty;
      const div = document.createElement('div');
      div.className = 'cart-item';
      div.innerHTML = `
        <strong>${item.title}</strong><br>
        ${item.qty} √ó ${item.price} –≥—Ä–Ω = ${item.qty*item.price} –≥—Ä–Ω
        <button style="float:right;border:0;background:none;color:var(--danger);cursor:pointer;font-size:18px"
          data-id="${item.id}" class="js-remove-cart">√ó</button>
      `;
      box.appendChild(div);
    });
    document.getElementById('cartTotal').textContent = money(total);
    document.getElementById('cartCount').textContent = cart.reduce((s,i)=>s+i.qty,0);
  }

  document.getElementById('cartItems').addEventListener('click',(e)=>{
    const btn = e.target.closest('.js-remove-cart');
    if(!btn) return;
    const id = Number(btn.dataset.id);
    cart = cart.filter(i=>i.id!==id);
    saveCart();
    updateCartUI();
  });

  document.getElementById('cartClearBtn').addEventListener('click',()=>{
    cart = [];
    saveCart();
    updateCartUI();
  });

  // ===== –í—ñ–¥–∫—Ä–∏—Ç—Ç—è/–∑–∞–∫—Ä–∏—Ç—Ç—è –∫–æ—à–∏–∫–∞ =====
  const cartDrawer = document.getElementById('cartDrawer');
  const cartOverlay = document.getElementById('cartOverlay');

  function toggleCart(open){
    if(open){
      cartDrawer.classList.add('open');
      cartOverlay.classList.remove('hidden');
    }else{
      cartDrawer.classList.remove('open');
      cartOverlay.classList.add('hidden');
    }
  }

  document.getElementById('openCartBtn').addEventListener('click', ()=>toggleCart(true));
  document.getElementById('cartClose').addEventListener('click', ()=>toggleCart(false));
  cartOverlay.addEventListener('click', ()=>toggleCart(false));

  // ===== –ú–æ–¥–∞–ª–∫–∞ —Ç–æ–≤–∞—Ä—É =====
  const productModal = document.getElementById('productModal');
  const productModalOverlay = document.getElementById('productModalOverlay');
  let currentProductId = null;

  function openProductModal(id){
    const p = PRODUCTS.find(x=>x.id===id);
    if(!p) return;
    currentProductId = id;

    document.getElementById('modalImage').src = p.img;
    document.getElementById('modalCategory').textContent = p.category;
    document.getElementById('modalTitle').textContent = p.title;
    document.getElementById('modalSku').textContent = p.sku;
    document.getElementById('modalPrice').textContent = money(p.price);
    
    document.getElementById('modalShort').innerHTML = p.short;
    document.getElementById('modalFull').innerHTML = p.full;
    
    document.getElementById('modalQtyInput').value = 1;
    document.getElementById('modalFull').style.display = 'none';

    productModal.classList.remove('hidden');
    productModalOverlay.classList.remove('hidden');

    lucide.createIcons();
  }

  function closeProductModal(){
    productModal.classList.add('hidden');
    productModalOverlay.classList.add('hidden');
  }

  document.getElementById('productModalClose').addEventListener('click', closeProductModal);
  productModalOverlay.addEventListener('click', closeProductModal);

  document.getElementById('modalQtyUp').addEventListener('click', ()=>{
    const input = document.getElementById('modalQtyInput');
    let v = parseFloat(input.value||'1')+1;
    if(v<1) v=1;
    input.value = v;
  });
  document.getElementById('modalQtyDown').addEventListener('click', ()=>{
    const input = document.getElementById('modalQtyInput');
    let v = parseFloat(input.value||'1')-1;
    if(v<1) v=1;
    input.value = v;
  });

  document.getElementById('modalAddToCart').addEventListener('click', ()=>{
    if(currentProductId==null) return;
    const qty = parseFloat(document.getElementById('modalQtyInput').value||'1');
    addToCart(currentProductId, qty);
    closeProductModal();
  });

  document.getElementById('modalToggleFull').addEventListener('click', ()=>{
    const full = document.getElementById('modalFull');
    full.style.display = full.style.display === 'block' ? 'none' : 'block';
  });

  // ===== Checkout (–æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è) =====
  const checkoutModal = document.getElementById('checkoutModal');
  const checkoutOverlay = document.getElementById('checkoutOverlay');

  function openCheckout(){
    if(cart.length===0){
      alert('–ö–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π');
      return;
    }
    checkoutModal.classList.remove('hidden');
    checkoutOverlay.classList.remove('hidden');
  }
  function closeCheckout(){
    checkoutModal.classList.add('hidden');
    checkoutOverlay.classList.add('hidden');
  }

  document.getElementById('cartCheckoutBtn').addEventListener('click', openCheckout);
  document.getElementById('checkoutClose').addEventListener('click', closeCheckout);
  checkoutOverlay.addEventListener('click', closeCheckout);

  document.getElementById('checkoutForm').addEventListener('submit',(e)=>{
    e.preventDefault();
    if(cart.length===0){
      alert('–ö–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π');
      return;
    }
    const name = document.getElementById('checkoutName').value;
    const phone = document.getElementById('checkoutPhone').value;
    const city = document.getElementById('checkoutCity').value;
    const post = document.getElementById('checkoutPost').value;

    let text = 'üõí –ù–æ–≤–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è%0A';
    text += `üë§ –Ü–º‚Äô—è: ${name}%0A`;
    text += `üìû –¢–µ–ª–µ—Ñ–æ–Ω: ${phone}%0A`;
    text += `üèô –ú—ñ—Å—Ç–æ: ${city}%0A`;
    text += `üì¶ –í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è –ù–ü: ${post}%0A%0A`;
    text += '–¢–æ–≤–∞—Ä–∏:%0A';

    let total = 0;
    cart.forEach(item=>{
      const line = `${item.title} ‚Äî ${item.qty} ${item.unit} = ${item.qty*item.price} –≥—Ä–Ω`;
      total += item.qty*item.price;
      text += encodeURIComponent(line) + '%0A';
    });
    text += `%0A–†–∞–∑–æ–º: ${total} –≥—Ä–Ω`;

    const url = `https://t.me/${TELEGRAM_USERNAME}?text=${text}`;
    window.open(url,'_blank');

    closeCheckout();
  });

  // ===== –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è (–∫–Ω–æ–ø–∫–∏) =====
  document.querySelectorAll('.js-consult').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      openTelegram('–ü–æ—Ç—Ä—ñ–±–Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è —â–æ–¥–æ –∞—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç—É/—Ä–µ–º–æ–Ω—Ç—É');
    });
  });

  // ===== –°–ª–∞–π–¥–µ—Ä =====
  const slides = document.querySelectorAll('.hero-slide');
  const dots = document.querySelectorAll('.hero-dot');
  let currentSlide = 0;

  function showSlide(i){
    slides.forEach(s=>s.classList.remove('active'));
    dots.forEach(d=>d.classList.remove('active'));
    slides[i].classList.add('active');
    dots[i].classList.add('active');
    currentSlide = i;
  }
  dots.forEach(d=>{
    d.addEventListener('click', ()=>showSlide(Number(d.dataset.index)));
  });
  setInterval(()=>{
    currentSlide = (currentSlide+1)%slides.length;
    showSlide(currentSlide);
  }, 7000);

  // ===== –°–∫—Ä–æ–ª–ª –¥–æ —Ç–æ–≤–∞—Ä—ñ–≤ =====
  document.getElementById('scrollToProductsBtn').addEventListener('click', ()=>{
    document.getElementById('productsSection').scrollIntoView({behavior:'smooth'});
  });

  // ===== INIT =====
  (async function init(){
    document.getElementById('year').textContent = new Date().getFullYear();
    await loadProductsFromXML();   // 1) –≥—Ä—É–∑–∏–º –ª–æ–∫–∞–ª—å–Ω—ã–π products.xml
    renderCategories();            // 2) –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    renderProducts(PRODUCTS);      // 3) —Ç–æ–≤–∞—Ä—ã
    updateCartUI();
    lucide.createIcons();
  })();
</script>
</body>
</html>
