<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Stroy Shop ‚Äî –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω –±—É–¥–º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤</title>

  <!-- –®—Ä–∏—Ñ—Ç -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <!-- Lucide (—ñ–∫–æ–Ω–∫–∏, –≥–ª–æ–±–∞–ª—å–Ω–∞ –∑–º—ñ–Ω–Ω–∞ lucide) -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    :root{
      --bg:#050509;
      --bg2:#0a0b10;
      --card:#11131c;
      --accent:#ff7a1a;
      --accent2:#ffb347;
      --danger:#ff4e6d;
      --text:#f5f5f7;
      --muted:#9da3b5;
      --radius:14px;
      --border:rgba(255,255,255,0.08);
      --shadow:0 8px 30px rgba(0,0,0,0.65);
    }

    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:'Inter',sans-serif;
      background:
        radial-gradient(circle at top left,rgba(255,122,26,0.18),transparent 55%),
        linear-gradient(180deg,#050509,#050509 40%,#0b0d14 100%);
      color:var(--text);
      overflow-x:hidden;
    }
    a{color:var(--accent);text-decoration:none}

    .hidden{display:none !important;}

    /* ===== HEADER ===== */
    header{
      position:sticky;top:0;z-index:50;
      background:
        radial-gradient(circle at top left,rgba(255,122,26,0.16),transparent 60%),
        rgba(5,5,9,0.96);
      backdrop-filter:blur(14px);
      border-bottom:1px solid var(--border);
      padding:12px 20px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
    }
    .header-left{display:flex;flex-direction:column}
    .logo{
      font-size:22px;
      font-weight:800;
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      letter-spacing:0.04em;
    }
    .logo-sub{font-size:12px;color:var(--muted)}

    .header-center{
      flex:1;
      display:flex;
      justify-content:center;
    }
    .search-bar{
      display:flex;
      align-items:center;
      gap:8px;
      padding:8px 14px;
      border-radius:999px;
      background:rgba(255,255,255,0.03);
      border:1px solid var(--border);
      max-width:360px;
      width:100%;
      box-shadow:0 0 0 1px rgba(0,0,0,0.3);
    }
    .search-bar input{
      border:0;background:transparent;outline:none;
      color:var(--text);font-size:14px;width:100%;
    }

    .header-right{
      display:flex;gap:8px;align-items:center;
    }
    .btn{
      padding:10px 14px;
      border-radius:var(--radius);
      border:0;
      cursor:pointer;
      font-weight:600;
      font-size:14px;
      display:inline-flex;
      align-items:center;
      gap:6px;
      transition:
        transform .18s ease,
        box-shadow .18s ease,
        background-position .35s ease,
        opacity .2s ease;
    }
    .btn-primary{
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      background-size:200% 200%;
      color:#000;
      box-shadow:var(--shadow);
    }
    .btn-primary:hover{
      transform:translateY(-1px);
      box-shadow:0 10px 32px rgba(0,0,0,0.8);
      background-position:100% 0;
    }
    .btn-outline{
      background:transparent;
      border:1px solid rgba(255,122,26,0.8);
      color:var(--accent);
    }
    .btn-outline:hover{
      transform:translateY(-1px);
      box-shadow:0 8px 28px rgba(0,0,0,0.7);
      background:rgba(255,122,26,0.06);
    }
    .cart-btn{
      background:radial-gradient(circle at top left,var(--accent2),var(--accent));
      color:#000;
      display:flex;align-items:center;gap:6px;
    }
    .cart-btn:hover{
      transform:translateY(-1px);
      box-shadow:0 10px 32px rgba(0,0,0,0.9);
    }
    .cart-count{
      background:#000;color:var(--accent2);
      padding:2px 7px;border-radius:999px;font-weight:800;font-size:12px;
    }

    /* ===== HERO / SLIDER ===== */
    .hero{
      padding:24px 20px 10px;
      display:flex;gap:24px;flex-wrap:wrap;
      align-items:flex-start;
    }
    .hero-left{flex:1;min-width:260px;position:relative;}
    .hero-slide{
      background:
        radial-gradient(circle at top right,rgba(255,122,26,0.15),transparent 55%),
        var(--bg2);
      border:1px solid var(--border);
      border-radius:var(--radius);
      padding:24px;
      box-shadow:var(--shadow);
      position:absolute;inset:0;
      opacity:0;transform:translateY(10px);
      transition:.35s;
    }
    .hero-slide.active{
      opacity:1;transform:translateY(0);position:relative;
    }
    .hero-slide h1{font-size:26px;margin-bottom:8px}
    .hero-slide p{font-size:14px;color:var(--muted);max-width:420px}
    .hero-cta{margin-top:14px;display:flex;gap:10px;flex-wrap:wrap}

    .hero-dots{display:flex;gap:8px;margin-top:10px;}
    .hero-dot{
      width:10px;height:10px;border-radius:50%;
      border:0;cursor:pointer;
      background:var(--border);
      transition:.2s;
    }
    .hero-dot.active{
      background:var(--accent);
      box-shadow:0 0 0 4px rgba(255,122,26,0.25);
    }

    .hero-right{
      width:280px;min-width:260px;
      background:var(--card);
      border-radius:var(--radius);
      border:1px solid var(--border);
      padding:16px;
      box-shadow:var(--shadow);
    }
    .hero-info-row{
      display:flex;gap:10px;margin-bottom:10px;
    }
    .hero-info-row i{
      padding:8px;
      border-radius:12px;
      background:rgba(255,122,26,0.1);
    }
    .hero-info-title{font-weight:700;font-size:14px}
    .hero-info-text{font-size:13px;color:var(--muted)}

    /* ===== FILTERS ===== */
    .filters{
      padding:10px 20px 20px;
      display:flex;justify-content:space-between;
      gap:16px;flex-wrap:wrap;
      border-bottom:1px solid var(--border);
    }
    .filters-left{display:flex;flex-direction:column;gap:8px}
    .filters-right{display:flex;gap:14px;flex-wrap:wrap;align-items:center}

    .categories{display:flex;gap:8px;flex-wrap:wrap;}
    .category-chip{
      padding:8px 14px;
      border-radius:999px;
      border:1px solid var(--border);
      background:rgba(255,255,255,0.02);
      cursor:pointer;
      font-size:13px;font-weight:600;
      transition:.2s;
    }
    .category-chip:hover{
      border-color:rgba(255,122,26,0.7);
    }
    .category-chip.active{
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      color:#000;border-color:transparent;
      box-shadow:0 6px 20px rgba(0,0,0,0.7);
    }

    .filters-label{font-size:13px;font-weight:600;color:var(--muted);display:block;margin-bottom:4px;}
    .filters input{
      width:80px;padding:6px;
      border-radius:var(--radius);
      border:1px solid var(--border);
      background:transparent;color:var(--text);
      font-size:13px;
    }
    .filters select{
      padding:6px 10px;border-radius:var(--radius);
      border:1px solid var(--border);
      background:var(--card);color:var(--text);
      font-size:13px;
    }

    /* ===== PRODUCTS ===== */
    .products-section{padding:20px;}
    .section-title{font-size:22px;font-weight:800;margin-bottom:16px;}
    .products-grid{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(230px,1fr));
      gap:18px;
    }
    .product-card{
      background:var(--card);
      border-radius:var(--radius);
      border:1px solid var(--border);
      box-shadow:var(--shadow);
      padding:12px;
      display:flex;flex-direction:column;
      gap:6px;
      position:relative;
      transition:.25s;
    }
    .product-card:hover{
      transform:translateY(-3px);
      box-shadow:0 10px 32px rgba(0,0,0,0.85);
      border-color:rgba(255,122,26,0.6);
    }
    .product-image-wrapper{position:relative;}
    .product-image-wrapper img{
      width:100%;height:160px;object-fit:cover;
      border-radius:var(--radius);
    }
    .product-quick-btn{
      position:absolute;bottom:10px;right:10px;
      padding:6px 10px;border-radius:var(--radius);
      border:0;background:linear-gradient(135deg,var(--accent),var(--accent2));color:#000;
      font-size:11px;font-weight:700;
      box-shadow:var(--shadow);
      cursor:pointer;opacity:0;transform:translateY(5px);
      transition:.2s;
    }
    .product-card:hover .product-quick-btn{
      opacity:1;transform:translateY(0);
    }
    .product-tag{font-size:11px;color:var(--muted);text-transform:uppercase;letter-spacing:.06em;}
    .product-title{font-size:15px;font-weight:700;}
    .product-meta{
      display:flex;justify-content:space-between;
      font-size:11px;color:var(--muted);
    }
    .product-bottom{
      margin-top:6px;
      display:flex;gap:8px;align-items:center;
    }
    .product-price{font-weight:800;font-size:17px;color:var(--accent);}

    /* –ö—ñ–ª—å–∫—ñ—Å—Ç—å */
    .qty-control{
      display:flex;align-items:center;
      border-radius:var(--radius);
      border:1px solid var(--border);
      background:var(--bg2);
      overflow:hidden;
    }
    .qty-input{
      width:52px;border:0;outline:none;
      text-align:center;
      background:transparent;color:var(--text);
      font-weight:700;font-size:14px;
      padding:4px;
    }
    .qty-arrows{
      display:flex;flex-direction:column;
      border-left:1px solid var(--border);
    }
    .qty-arrow{
      border:0;background:transparent;
      width:20px;height:16px;
      display:flex;align-items:center;justify-content:center;
      cursor:pointer;
    }
    .qty-arrow svg{width:12px;height:12px;color:var(--accent);}

    .product-add-btn{
      flex:1;justify-content:center;
      white-space:nowrap;
    }

    /* ===== INFO SECTION ===== */
    .info-section{padding:24px 20px 40px;}
    .info-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(230px,1fr));
      gap:18px;
    }
    .info-card{
      background:var(--card);
      border-radius:var(--radius);
      border:1px solid var(--border);
      box-shadow:var(--shadow);
      padding:16px;
      text-align:center;
      font-size:13px;
    }
    .info-card h3{margin:8px 0;font-size:15px;}
    .info-card p{color:var(--muted);}

    /* ===== FOOTER ===== */
    footer{
      padding:24px 20px 20px;
      border-top:1px solid var(--border);
      background:#050509;
      display:grid;
      grid-template-columns:2fr 1.1fr 1.5fr 1.8fr;
      gap:20px;
      font-size:13px;color:var(--muted);
    }
    .footer-col{min-width:0;}
    .footer-logo{
      font-size:20px;
      font-weight:800;
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      margin-bottom:6px;
    }
    .footer-copy{margin-top:10px;font-size:12px;color:#717786;}
    .footer-title{
      font-weight:700;
      font-size:14px;
      margin-bottom:8px;
      color:var(--text);
    }
    .footer-nav{
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    .footer-nav a{
      color:var(--muted);
      text-decoration:none;
      font-size:13px;
    }
    .footer-nav a:hover{
      color:var(--accent2);
    }
    .footer-link{
      display:inline-flex;
      align-items:center;
      gap:6px;
      margin-bottom:6px;
      color:var(--muted);
    }
    .footer-link i{
      width:16px;height:16px;
    }
    .footer-link:hover{
      color:var(--accent2);
    }
    .footer-phone{
      display:inline-flex;
      align-items:center;
      gap:8px;
      margin-top:6px;
      padding:8px 12px;
      border-radius:999px;
      background:radial-gradient(circle at top left,rgba(255,122,26,0.25),transparent 60%);
      border:1px solid rgba(255,122,26,0.7);
      color:var(--text);
      font-weight:700;
    }
    .footer-phone i{
      width:16px;height:16px;
    }
    .footer-phone:hover{
      box-shadow:0 10px 32px rgba(0,0,0,0.9);
      transform:translateY(-1px);
    }
    .footer-manager-box{
      display:flex;
      gap:10px;
      align-items:center;
    }
    .footer-manager-avatar{
      width:54px;height:54px;
      border-radius:50%;
      overflow:hidden;
      border:2px solid rgba(255,122,26,0.8);
      box-shadow:0 0 0 3px rgba(255,122,26,0.18);
    }
    .footer-manager-avatar img{
      width:100%;height:100%;object-fit:cover;
    }
    .footer-manager-name{
      font-weight:600;font-size:14px;margin-bottom:4px;
    }

    /* ===== MODALS ===== */
    .modal-overlay{
      position:fixed;inset:0;
      background:rgba(0,0,0,0.6);
      backdrop-filter:blur(4px);
      z-index:90;
    }
    .modal{
      position:fixed;top:50%;left:50%;
      transform:translate(-50%,-50%);
      background:var(--bg2);
      border-radius:var(--radius);
      border:1px solid var(--border);
      box-shadow:var(--shadow);
      max-width:900px;width:95%;
      max-height:90vh;overflow-y:auto;
      z-index:100;
      padding:18px;
    }
    .modal-header{
      display:flex;justify-content:space-between;align-items:center;
      margin-bottom:10px;
    }
    .modal-close{
      border:0;background:transparent;color:var(--muted);
      cursor:pointer;
    }
    .modal-body{
      display:flex;gap:18px;flex-wrap:wrap;
    }
    .modal-body img{width:280px;height:220px;object-fit:cover;border-radius:var(--radius);
    }

    .modal-info{flex:1;min-width:240px;font-size:14px;}
    .modal-info h2{margin:4px 0 6px;font-size:20px;}
    .modal-price{font-size:22px;color:var(--accent);font-weight:800;margin:8px 0;}
    .modal-desc{color:var(--muted);font-size:13px;}
    .modal-actions{margin-top:10px;display:flex;gap:8px;flex-wrap:wrap;}

    .modal-qty-row{margin-top:10px;display:flex;align-items:center;gap:6px;font-size:13px;}

    .modal-full{
      margin-top:12px;
      padding:10px 12px;
      border-radius:var(--radius);
      border:1px solid var(--border);
      background:var(--card);
      font-size:13px;
      color:var(--muted);
      display:none;
    }

    /* ===== CHECKOUT MODAL ===== */
    .checkout-form{
      display:flex;flex-direction:column;gap:10px;
      margin-top:10px;
      font-size:14px;
    }
    .checkout-form input{
      width:100%;padding:8px;border-radius:var(--radius);
      border:1px solid var(--border);
      background:var(--bg2);color:var(--text);
      outline:none;font-size:14px;
    }

    /* ===== CART DRAWER ===== */
    .cart-overlay{
      position:fixed;inset:0;
      background:rgba(0,0,0,0.5);
      z-index:80;
    }
    .cart-drawer{
      position:fixed;top:0;right:-360px;
      width:320px;max-width:90%;
      height:100vh;
      background:var(--bg2);
      border-left:1px solid var(--border);
      box-shadow:-6px 0 25px rgba(0,0,0,0.6);
      z-index:90;
      padding:14px;
      display:flex;flex-direction:column;
      transition:.3s;
    }
    .cart-drawer.open{right:0;}
    .cart-header{
      display:flex;justify-content:space-between;align-items:center;
      margin-bottom:10px;
    }
    .cart-body{
      flex:1;overflow-y:auto;
    }
    .cart-item{
      background:var(--card);
      border-radius:var(--radius);
      border:1px solid var(--border);
      padding:10px;
      margin-bottom:8px;
      font-size:13px;
    }
    .cart-footer{
      border-top:1px solid var(--border);
      padding-top:10px;
      margin-top:6px;
    }
    .cart-total-row{
      display:flex;justify-content:space-between;
      margin-bottom:10px;font-weight:700;
    }

    /* ===== TOAST ===== */
    .toast{
      position:fixed;right:16px;bottom:16px;
      background:var(--bg2);
      border-radius:var(--radius);
      padding:10px 14px;
      border:1px solid var(--border);
      box-shadow:var(--shadow);
      font-size:13px;
      opacity:0;transform:translateY(10px);
      transition:.25s;z-index:200;
    }
    .toast.show{opacity:1;transform:translateY(0);}
    
    /* ===== RESPONSIVE ===== */
    @media(max-width:900px){
      .hero{flex-direction:column;}
      .hero-right{width:100%;}
      footer{
        grid-template-columns:1fr 1fr;
      }
    }
    @media(max-width:720px){
      .header-center{order:3;width:100%;}
      .search-bar{max-width:100%;}
      footer{
        grid-template-columns:1fr;
      }
    }

    .modal-full {
        display: none;
        padding: 16px;
        border-radius: var(--radius);
        border: 1px solid var(--border);
        background: rgba(255, 255, 255, 0.04); /* –º—è–≥–∫–∏–π —Ñ–æ–Ω */
        font-size: 14px;
        line-height: 1.6;
        color: var(--text);
    }

    .modal-full p {
        margin-bottom: 12px;
    }

    .modal-full ol,
    .modal-full ul {
        padding-left: 20px;
        margin-bottom: 14px;
    }

    .modal-full li {
        margin-bottom: 8px;
    }

    .modal-full strong,
    .modal-full b {
        color: var(--accent2);
        font-weight: 700;
    }
  </style>
</head>
<body id="top">

<header>
  <div class="header-left">
    <div class="logo">Stroy Shop</div>
    <div class="logo-sub">–ë—É–¥–º–∞—Ç–µ—Ä—ñ–∞–ª–∏ –∑ –¥–æ—Å—Ç–∞–≤–∫–æ—é –ø–æ –£–∫—Ä–∞—ó–Ω—ñ</div>
  </div>

  <div class="header-center">
    <div class="search-bar">
      <i data-lucide="search"></i>
      <input id="searchInput" placeholder="–ü–æ—à—É–∫: –∫–æ–≤—Ä–æ–ª—ñ–Ω, –ø–ª–∏—Ç–∫–∞, —à–ø–∞–ª–µ—Ä–∏..." />
    </div>
  </div>

  <div class="header-right">
    <button class="btn btn-outline js-consult">
      <i data-lucide="message-circle"></i>
      –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è
    </button>
    <button class="btn cart-btn" id="openCartBtn">
      <i data-lucide="shopping-cart"></i>
      <span>–ö–æ—à–∏–∫</span>
      <span class="cart-count" id="cartCount">0</span>
    </button>
  </div>
</header>

<main>
  <!-- HERO / SLIDER -->
  <section class="hero">
    <div class="hero-left">
      <div class="hero-slide active" data-index="0">
        <h1>–†–µ–º–æ–Ω—Ç –±–µ–∑ –Ω–µ—Ä–≤—ñ–≤</h1>
        <p>–ö–æ–≤—Ä–æ–ª—ñ–Ω, –ø–ª–∏—Ç–∫–∞, —à–ø–∞–ª–µ—Ä–∏ —Ç–∞ —Å–∞–º–æ–∫–ª–µ–π–∫–∞ ‚Äî –≤—Å–µ –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ. –ü—ñ–¥–±—ñ—Ä –ø—ñ–¥ –≤–∞—à –±—é–¥–∂–µ—Ç.</p>
        <div class="hero-cta">
          <button class="btn btn-primary js-consult">
            <i data-lucide="send"></i> –ü–æ—Ç—Ä—ñ–±–Ω–∞ –ø–æ—Ä–∞–¥–∞
          </button>
          <button class="btn btn-outline" id="scrollToProductsBtn">
            –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Ç–æ–≤–∞—Ä–∏
          </button>
        </div>
      </div>
      <div class="hero-slide" data-index="1">
        <h1>–û–ø—Ç —Ç–∞ –∑–Ω–∏–∂–∫–∏</h1>
        <p>-10% –ø—Ä–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—ñ –≤—ñ–¥ 10 –º¬≤. –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó –¥–ª—è –º–∞–π—Å—Ç—Ä—ñ–≤ —Ç–∞ –¥–∏–∑–∞–π–Ω–µ—Ä—ñ–≤.</p>
        <div class="hero-cta">
          <button class="btn btn-primary js-consult">
            –ó–∞–ø–∏—Ç –Ω–∞ –æ–ø—Ç
          </button>
        </div>
      </div>
      <div class="hero-slide" data-index="2">
        <h1>–î–æ—Å—Ç–∞–≤–∫–∞ –ù–æ–≤–æ—é –ü–æ—à—Ç–æ—é</h1>
        <p>–û–ø–ª–∞—Ç–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ—Å–∏–ª–∫–∏ –Ω–∞ –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—ñ –ø–µ—Ä–µ–¥ –æ–ø–ª–∞—Ç–æ—é.</p>
        <div class="hero-cta">
          <button class="btn btn-primary js-consult">
            –ü–∏—Ç–∞–Ω–Ω—è –ø–æ –¥–æ—Å—Ç–∞–≤—Ü—ñ
          </button>
        </div>
      </div>

      <div class="hero-dots">
        <button class="hero-dot active" data-index="0"></button>
        <button class="hero-dot" data-index="1"></button>
        <button class="hero-dot" data-index="2"></button>
      </div>
    </div>

    <div class="hero-right">
      <div class="hero-info-row">
        <i data-lucide="truck"></i>
        <div>
          <div class="hero-info-title">–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –£–∫—Ä–∞—ó–Ω—ñ</div>
          <div class="hero-info-text">–ù–æ–≤–∞ –ü–æ—à—Ç–∞, –æ–ø–ª–∞—Ç–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ</div>
        </div>
      </div>
      <div class="hero-info-row">
        <i data-lucide="shield-check"></i>
        <div>
          <div class="hero-info-title">–ì–∞—Ä–∞–Ω—Ç—ñ—è —è–∫–æ—Å—Ç—ñ</div>
          <div class="hero-info-text">–ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∏ —Ç–∞ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏</div>
        </div>
      </div>
      <div class="hero-info-row">
        <i data-lucide="headphones"></i>
        <div>
          <div class="hero-info-title">–ñ–∏–≤–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä</div>
          <div class="hero-info-text">–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—ó –≤ Telegram</div>
        </div>
      </div>
    </div>
  </section>

  <!-- FILTERS -->
  <section class="filters">
    <div class="filters-left">
      <span class="filters-label">–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó:</span>
      <div class="categories" id="categories"></div>
    </div>

    <div class="filters-right">
      <div>
        <span class="filters-label">–¶—ñ–Ω–∞:</span>
        <input type="number" id="minPrice" placeholder="–≤—ñ–¥">
        <input type="number" id="maxPrice" placeholder="–¥–æ">
      </div>
      <div>
        <span class="filters-label">–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è:</span>
        <select id="sortSelect">
          <option value="default">–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º</option>
          <option value="price-asc">–°–ø–æ—á–∞—Ç–∫—É –¥–µ—à–µ–≤—à—ñ</option>
          <option value="price-desc">–°–ø–æ—á–∞—Ç–∫—É –¥–æ—Ä–æ–∂—á—ñ</option>
        </select>
      </div>
    </div>
  </section>

  <!-- PRODUCTS -->
  <section class="products-section" id="productsSection">
    <h2 class="section-title">–ü–æ–ø—É–ª—è—Ä–Ω—ñ —Ç–æ–≤–∞—Ä–∏</h2>
    <div class="products-grid" id="productsGrid"></div>
  </section>

  <!-- INFO -->
  <section class="info-section" id="howToOrder">
    <h2 class="section-title">–Ø–∫ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>
    <div class="info-grid">
      <div class="info-card">
        <h3>1. –û–±–∏—Ä–∞—î—Ç–µ —Ç–æ–≤–∞—Ä–∏</h3>
        <p>–î–æ–¥–∞—î—Ç–µ –≤ –∫–æ—à–∏–∫ –ø–æ–∑–∏—Ü—ñ—ó —Ç–∞ –ø–æ—Ç—Ä—ñ–±–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å. –ú–æ–∂–Ω–∞ –∫–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó.</p>
      </div>
      <div class="info-card">
        <h3>2. –ó–∞–ø–æ–≤–Ω—é—î—Ç–µ –¥–∞–Ω—ñ</h3>
        <p>–ù–∞—Ç–∏—Å–∫–∞—î—Ç–µ ¬´–û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è¬ª ‚Äî –º–∏ –∑–≥–µ–Ω–µ—Ä—É—î–º–æ —Ç–µ–∫—Å—Ç –∑–∞—è–≤–∫–∏ –≤ Telegram.</p>
      </div>
      <div class="info-card">
        <h3>3. –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –ù–æ–≤–æ—é –ü–æ—à—Ç–æ—é</h3>
        <p>–£—Ç–æ—á–Ω—é—î–º–æ –∑ –≤–∞–º–∏ –¥–µ—Ç–∞–ª—ñ, –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–æ –ø–æ—Å–∏–ª–∫—É. –û–ø–ª–∞—Ç–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ.</p>
      </div>
    </div>
  </section>
</main>

<footer>
  <div class="footer-col footer-brand">
    <div class="footer-logo">Stroy Shop</div>
    <p>–Ü–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω –±—É–¥—ñ–≤–µ–ª—å–Ω–∏—Ö –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤. –ü—ñ–¥–±—ñ—Ä, –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è —Ç–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ –ø–æ –≤—Å—ñ–π –£–∫—Ä–∞—ó–Ω—ñ.</p>
    <div class="footer-copy">¬© <span id="year"></span> Stroy Shop. –í—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ.</div>
  </div>

  <div class="footer-col footer-nav-col">
    <div class="footer-title">–ù–∞–≤—ñ–≥–∞—Ü—ñ—è</div>
    <nav class="footer-nav">
      <a href="#productsSection">–ö–∞—Ç–∞–ª–æ–≥</a>
      <a href="#howToOrder">–Ø–∫ –∑–∞–º–æ–≤–∏—Ç–∏</a>
      <a href="#top">–ê–∫—Ü—ñ—ó —Ç–∞ –∑–Ω–∏–∂–∫–∏</a>
    </nav>
  </div>

  <div class="footer-col footer-contacts">
    <div class="footer-title">–ö–æ–Ω—Ç–∞–∫—Ç–∏</div>
    <a href="https://t.me/stroy_shop_ua" target="_blank" class="footer-link">
      <i data-lucide="send"></i> Telegram-–∫–∞–Ω–∞–ª
    </a>
    <a href="https://www.tiktok.com/@stroyshop_ua" target="_blank" class="footer-link">
      <i data-lucide="play-circle"></i> TikTok: @stroyshop_ua
    </a>
    <a href="tel:+380984927948" class="footer-phone">
      <i data-lucide="phone"></i> +380&nbsp;98&nbsp;492&nbsp;79&nbsp;48
    </a>
  </div>

  <div class="footer-col footer-manager">
    <div class="footer-title">–í–∞—à –º–µ–Ω–µ–¥–∂–µ—Ä</div>
    <div class="footer-manager-box">
      <div class="footer-manager-avatar">
        <img src="https://i.ibb.co/dqqPKMb/unnamed-1.jpg" alt="–ú–µ–Ω–µ–¥–∂–µ—Ä –º–∞–≥–∞–∑–∏–Ω—É">
      </div>
      <div>
        <div class="footer-manager-name">–ú–µ–Ω–µ–¥–∂–µ—Ä Stroy Shop</div>
        <a href="https://t.me/manager_stroyshop_ua" target="_blank" class="footer-link">
          <i data-lucide="message-circle"></i> –ù–∞–ø–∏—Å–∞—Ç–∏ –≤ Telegram
        </a>
      </div>
    </div>
  </div>
</footer>

<!-- PRODUCT MODAL -->
<div id="productModalOverlay" class="modal-overlay hidden"></div>
<div id="productModal" class="modal hidden">
  <div class="modal-header">
    <h3>–¢–æ–≤–∞—Ä</h3>
    <button class="modal-close" id="productModalClose"><i data-lucide="x"></i></button>
  </div>
  <div class="modal-body">
    <img id="modalImage" src="" alt="">
    <div class="modal-info">
      <div class="filters-label" id="modalCategory"></div>
      <h2 id="modalTitle"></h2>
      <div>–ê—Ä—Ç–∏–∫—É–ª: <span id="modalSku"></span></div>
      <div class="modal-price" id="modalPrice"></div>
      <div class="modal-desc" id="modalShort"></div>

      <div class="modal-qty-row">
        <span>–ö—ñ–ª—å–∫—ñ—Å—Ç—å:</span>
        <div class="qty-control">
          <input type="number" id="modalQtyInput" class="qty-input" min="1" value="1">
          <div class="qty-arrows">
            <button class="qty-arrow" id="modalQtyUp"><i data-lucide="chevron-up"></i></button>
            <button class="qty-arrow" id="modalQtyDown"><i data-lucide="chevron-down"></i></button>
          </div>
        </div>
      </div>

      <div class="modal-actions">
        <button class="btn btn-primary" id="modalAddToCart">
          <i data-lucide="shopping-cart"></i> –î–æ–¥–∞—Ç–∏ —É –∫–æ—à–∏–∫
        </button>
        <button class="btn btn-outline" id="modalToggleFull">
          –î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å
        </button>
      </div>

      <div class="modal-full" id="modalFull"></div>






<div class="modal-help">
  <div style="display:flex;align-items:center;gap:14px;margin-top:24px;padding:16px;border:1px solid var(--border);border-radius:var(--radius);background:rgba(255,255,255,0.03);box-shadow:var(--shadow);">
    <div style="flex-shrink:0;width:52px;height:52px;border-radius:50%;overflow:hidden;border:2px solid var(--accent2);">
      <img src="https://i.ibb.co/dqqPKMb/unnamed-1.jpg" alt="–ú–µ–Ω–µ–¥–∂–µ—Ä" style="width:100%;height:100%;object-fit:cover;">
    </div>
    <div style="flex:1;">
      <div style="font-weight:700;margin-bottom:4px;">–ù–µ –∑–Ω–∞–π—à–ª–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è?</div>
      <a href="https://t.me/manager_stroyshop_ua" target="_blank" class="btn btn-outline">
        <i data-lucide="message-circle"></i> –ó–≤'—è–∑–∞—Ç–∏—Å—è –∑ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º
      </a>
    </div>
  </div>
  <div class="hero-info-row" style="margin-top:18px;">
    <i data-lucide="truck"></i>
    <div>
      <div class="hero-info-title">–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –£–∫—Ä–∞—ó–Ω—ñ</div>
      <div class="hero-info-text">–ù–æ–≤–∞ –ü–æ—à—Ç–∞, –æ–ø–ª–∞—Ç–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ</div>
    </div>
  </div>
  <div class="hero-info-row">
    <i data-lucide="shield-check"></i>
    <div>
      <div class="hero-info-title">–ì–∞—Ä–∞–Ω—Ç—ñ—è —è–∫–æ—Å—Ç—ñ</div>
      <div class="hero-info-text">–ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∏</div>
    </div>
  </div>
  <div class="hero-info-row">
    <i data-lucide="headphones"></i>
    <div>
      <div class="hero-info-title">–ñ–∏–≤–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä</div>
      <div class="hero-info-text">Telegram-–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—ó</div>
    </div>
  </div>
</div>






      
    </div>
  </div>
</div>

<!-- CHECKOUT MODAL -->
<div id="checkoutOverlay" class="modal-overlay hidden"></div>
<div id="checkoutModal" class="modal hidden">
  <div class="modal-header">
    <h3>–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h3>
    <button class="modal-close" id="checkoutClose"><i data-lucide="x"></i></button>
  </div>
  <div class="modal-body">
    <div class="modal-info">
      <p class="modal-desc">
        –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ñ –¥–∞–Ω—ñ. –ü—ñ—Å–ª—è –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–Ω–æ–ø–∫–∏ –≤—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è Telegram
        –∑ —É–∂–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–∏–º –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º. –í–∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞—Ç–∏—Å–Ω–µ—Ç–µ ¬´–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏¬ª.
      </p>
      <form class="checkout-form" id="checkoutForm">
        <label>–Ü–º‚Äô—è:<br><input id="checkoutName" required></label>
        <label>–¢–µ–ª–µ—Ñ–æ–Ω:<br><input id="checkoutPhone" required></label>
        <label>–ú—ñ—Å—Ç–æ:<br><input id="checkoutCity" required></label>
        <label>–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è –ù–æ–≤–æ—ó –ü–æ—à—Ç–∏:<br><input id="checkoutPost" required></label>
        <button class="btn btn-primary" type="submit">–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –≤ Telegram</button>
      </form>
    </div>
  </div>
</div>

<!-- CART DRAWER -->
<div id="cartOverlay" class="cart-overlay hidden"></div>
<aside id="cartDrawer" class="cart-drawer">
  <div class="cart-header">
    <h3>–ö–æ—à–∏–∫</h3>
    <button class="modal-close" id="cartClose"><i data-lucide="x"></i></button>
  </div>
  <div class="cart-body" id="cartItems"></div>
  <div class="cart-footer">
    <div class="cart-total-row">
      <span>–†–∞–∑–æ–º:</span><span id="cartTotal">0 –≥—Ä–Ω</span>
    </div>
    <button class="btn btn-primary" id="cartCheckoutBtn">–û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
    <button class="btn btn-outline" id="cartClearBtn">–û—á–∏—Å—Ç–∏—Ç–∏ –∫–æ—à–∏–∫</button>
  </div>
</aside>

<!-- TOAST -->
<div id="toast" class="toast">–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è</div>

<script>
/* ============================================================
   üüß 1. –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò
============================================================ */
const TELEGRAM_USERNAME = 'manager_stroyshop_ua';
const XML_FEED_URL = 'products.xml';

/* ============================================================
   üüß 2. –°–ü–ò–°–û–ö –ö–ê–¢–ï–ì–û–†–ò–ô (–ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º)
============================================================ */
const CATEGORY_KEYWORDS = [
  { name: '3D –ø–∞–Ω–µ–ª—ñ', keywords: ['3D –ø–∞–Ω–µ–ª—å', '–ü–∞–Ω–µ–ª—å —Å—Ç–µ–Ω–æ–≤–∞—è 3D'] },
  { name: '–ü–í–• –ø–∞–Ω–µ–ª—ñ', keywords: ['–ü–í–• –ø–∞–Ω–µ–ª—å', '–ü–í–• –ø–ª–∏—Ç–∞'] },
  { name: '–°—Ç–µ–Ω–æ–≤—ñ –ø–∞–Ω–µ–ª—ñ', keywords: ['–ü–∞–Ω–µ–ª—å —Å—Ç–µ–Ω–æ–≤–∞—è', '–ü–∞–Ω–µ–ª—å-—Ä–µ–π–∫–∞', '–ü–∞–Ω–µ–ª—å —Ä–µ–π–∫–∞'] },
  { name: '–ü–ª–∏—Ç–∫–∞', keywords: ['–í–∏–Ω–∏–ª–æ–≤–∞—è –ø–ª–∏—Ç–∫–∞', '–ü–í–• –ø–ª–∏—Ç–∫–∞', '–ü–æ–ª–∏—É—Ä–µ—Ç–∞–Ω–æ–≤–∞—è –ø–ª–∏—Ç–∫–∞', '–ê–ª—é–º–∏–Ω–∏–µ–≤–∞—è –ø–ª–∏—Ç–∫–∞', 'LVT –ø–ª–∏—Ç–∫–∞', '–ü–ª–∏—Ç–∫–∞ –ø–æ–¥ –∫–æ–≤—Ä–æ–ª–∏–Ω'] },
  { name: 'PET –ø–ª–∏—Ç–∫–∞', keywords: ['PET –º–æ–∑–∞–∏–∫–∞', '–°—Ç–µ–Ω–æ–≤–∞—è PET –ø–ª–∏—Ç–∫–∞'] },
  { name: '–ü—Ä–æ—Ñ—ñ–ª—å —ñ –¥–µ–∫–æ—Ä', keywords: ['–ü—Ä–æ—Ñ–∏–ª—å', '–†–µ–π–∫–∞ –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–∞—è', '–ú–æ–ª–¥–∏–Ω–≥'] },
  { name: '–ü–ª—ñ–Ω—Ç—É—Å', keywords: ['–ü–ª–∏–Ω—Ç—É—Å', '–ü–ª—ñ–Ω—Ç—É—Å'] },
  { name: '–°–∞–º–æ–∫–ª–µ–π–∫–∞', keywords: ['–°–∞–º–æ–∫–ª–µ—é—â–∞—è—Å—è –ø–ª–µ–Ω–∫–∞', '–ü–ª–µ–Ω–∫–∞ –Ω–∞ —Å–∞–º–æ–∫–ª–µ–π–∫–µ', '–ü–ª–µ–Ω–∫–∞ –æ–∫–æ–Ω–Ω–∞—è'] },
  { name: '–û–±–æ—ó', keywords: ['–¢—ë–ø–ª—ã–µ –æ–±–æ–∏', '–°–∞–º–æ–∫–ª–µ—é—â–∏–µ—Å—è –æ–±–æ–∏'] },
  { name: '–ú–æ–∑–∞—ó–∫–∞', keywords: ['–ú–æ–∑–∞–∏–∫–∞ –∏–∑ –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ —Å—Ç–µ–∫–ª–∞'] },
  { name: '–ü–æ–∫—Ä–∏—Ç—Ç—è', keywords: ['–ü–æ–∫—Ä—ã—Ç–∏–µ –≤–∏–Ω–∏–ª–æ–≤–æ–µ', '–ù–∞–ø–æ–ª—å–Ω–æ–µ –≤–∏–Ω–∏–ª–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ', '–ü–æ–ª –ø–∞–∑–ª', '–ü–æ–ª-–ø–∞–∑–ª'] },
  { name: '–ö–æ–≤—Ä–∏–∫–∏', keywords: ['–ö–æ–≤—Ä–∏–∫', '–ö–æ–≤—Ä–∏–∫ –¥–µ—Ç—Å–∫–∏–π', '–¢–µ—Ä–º–æ–∫–æ–≤—Ä–∏–∫', '–í–ª–∞–≥–æ–ø–æ–≥–ª–æ—â–∞—é—â–∏–π –∫–æ–≤—Ä–∏–∫'] },
  { name: '–î–∑–µ—Ä–∫–∞–ª–∞', keywords: ['–ó–µ—Ä–∫–∞–ª–æ', '–ó–µ—Ä–∫–∞–ª–æ –∞–∫—Ä–∏–ª–æ–≤–æ–µ', '–ó–µ—Ä–∫–∞–ª—å–Ω—ã–π –¥–µ–∫–æ—Ä'] },
  { name: '–ï–∫–æ—à–∫—ñ—Ä–∞', keywords: ['–°–∞–º–æ–∫–ª–µ—é—â–∞—è —ç–∫–æ–∫–æ–∂–∞'] },
  { name: '–ú–µ–±–ª—ñ', keywords: ['–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä', '–¢—É–º–±–∞', '–°—Ç–æ–ª', '–°—Ç—É–ª', '–°—Ç–µ–ª–ª–∞–∂', '–≠—Ç–∞–∂–µ—Ä–∫–∞', '–ü–æ–ª–∫–∞', '–®–∫–∞—Ñ', '–ù–∞–¥—É–≤–Ω–æ–µ', '–î–∏–≤–∞–Ω', '–ù–∞–±–æ—Ä –º–µ–±–µ–ª–∏'] }
];

/* ============================================================
   üüß 3. –§—É–Ω–∫—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
============================================================ */
function getCategoryFromTitle(title) {
  const lower = title.toLowerCase();
  for (const group of CATEGORY_KEYWORDS) {
    for (const key of group.keywords) {
      if (lower.includes(key.toLowerCase())) {
        return group.name;
      }
    }
  }
  return '–Ü–Ω—à–µ';
}

/* ============================================================
   üüß 4. –î–ï–§–û–õ–¢–ù–´–ï –¢–û–í–ê–†–´
============================================================ */
const DEFAULT_PRODUCTS = [
  {
    id: 1,
    title: '–ö–æ–≤—Ä–æ–ª—ñ–Ω SoftLux 4–º ‚Äî –∫—Ä–µ–º–æ–≤–∏–π',
    category: getCategoryFromTitle('–ö–æ–≤—Ä–æ–ª—ñ–Ω SoftLux 4–º ‚Äî –∫—Ä–µ–º–æ–≤–∏–π'),
    price: 279,
    sku: 14417,
    img: 'https://via.placeholder.com/600x400?text=Carpet',
    unit: '–º',
    short:'–ú‚Äô—è–∫–∏–π —ñ –∑–Ω–æ—Å–æ—Å—Ç—ñ–π–∫–∏–π –∫–æ–≤—Ä–æ–ª—ñ–Ω –¥–ª—è –∂–∏—Ç–ª–æ–≤–∏—Ö –∫—ñ–º–Ω–∞—Ç.',
    full:'–ö–æ–≤—Ä–æ–ª—ñ–Ω SoftLux ‚Äî —â—ñ–ª—å–Ω–∏–π —Ç–∞ –ø—Ä–∏—î–º–Ω–∏–π –º–∞—Ç–µ—Ä—ñ–∞–ª.'
  }
];

let PRODUCTS = [...DEFAULT_PRODUCTS];

/* ============================================================
   üüß 5. CART
============================================================ */
let cart = JSON.parse(localStorage.getItem('stroy_shop_cart_v1') || '[]');

function saveCart(){
  localStorage.setItem('stroy_shop_cart_v1', JSON.stringify(cart));
}

function money(n){ return n + ' –≥—Ä–Ω'; }

function showToast(msg){
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(()=>t.classList.remove('show'), 2000);
}

/* ============================================================
   üüß 6. –ó–ê–ì–†–£–ó–ö–ê –¢–û–í–ê–†–û–í –ò–ó XML
============================================================ */
async function loadProductsFromXML(){
  try{
    const res = await fetch(XML_FEED_URL, { cache:'no-store' });
    if(!res.ok) throw new Error(res.status);

    const text = await res.text();
    const xml = new DOMParser().parseFromString(text, 'application/xml');

    const items = Array.from(xml.getElementsByTagName('item'));
    if(!items.length) {
      PRODUCTS = [...DEFAULT_PRODUCTS];
      return;
    }

    const get = (node, tag) => {
      const el = node.getElementsByTagName(tag)[0];
      return el ? el.textContent.trim() : '';
    };

    PRODUCTS = items.map((node, index) => {
      const rawId = get(node, 'g:id') || index+1;
      const id = Number(String(rawId).replace(/\D/g,'')) || (index+1);

      const title = get(node, 'title') || `–¢–æ–≤–∞—Ä ${id}`;
      const description = get(node, 'description');

      const priceText = get(node, 'g:price');
      const price = parseFloat(priceText.replace(',', '.')) || 0;

      const img =
        get(node, 'g:image_link') ||
        'https://via.placeholder.com/600x400?text=–¢–æ–≤–∞—Ä';

      const avail = get(node, 'g:availability').toLowerCase();
      if(avail && avail !== 'in stock') return null;

      return {
        id,
        title,
        category: getCategoryFromTitle(title),
        price,
        sku: rawId,
        img,
        unit:'—à—Ç',
        short: description ? description.slice(0,120) : '',
        full: description || ''
      };
    }).filter(Boolean);

  } catch(e){
    PRODUCTS = [...DEFAULT_PRODUCTS];
    showToast('–ü–æ–º–∏–ª–∫–∞ XML, –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ –¥–µ—Ñ–æ–ª—Ç–Ω—ñ —Ç–æ–≤–∞—Ä–∏');
  }
}

/* ============================================================
   üüß 7. –†–ï–ù–î–ï–† –ö–ê–¢–ï–ì–û–†–ò–ô
============================================================ */
const categoriesEl = document.getElementById('categories');

function renderCategories() {
  const list = ['–£—Å—ñ', ...CATEGORY_KEYWORDS.map(cat => cat.name)];
  categoriesEl.innerHTML = '';

  list.forEach(cat => {
    const btn = document.createElement('button');
    btn.className = 'category-chip';
    btn.textContent = cat;

    if (cat === '–£—Å—ñ') btn.classList.add('active');

    btn.addEventListener('click', () => {
      document.querySelectorAll('.category-chip').forEach(c => c.classList.remove('active'));
      btn.classList.add('active');
      filterProducts();
    });

    categoriesEl.appendChild(btn);
  });
}

/* ============================================================
   üüß 8. –†–ï–ù–î–ï–† –¢–û–í–ê–†–û–í
============================================================ */
const productsGrid = document.getElementById('productsGrid');

function renderProducts(list){
  productsGrid.innerHTML = '';

  list.forEach(p=>{
    const card = document.createElement('article');
    card.className = 'product-card';

    card.innerHTML = `
      <div class="product-image-wrapper">
        <img src="${p.img}" alt="${p.title}">
        <button class="product-quick-btn js-quick-view" data-id="${p.id}">–®–≤–∏–¥–∫–∏–π –ø–µ—Ä–µ–≥–ª—è–¥</button>
      </div>

      <div class="product-tag">${p.category}</div>
      <div class="product-title">${p.title}</div>

      <div class="product-meta">
        <span>–ê—Ä—Ç–∏–∫—É–ª: ${p.sku}</span>
        <span>${p.unit}</span>
      </div>

      <div class="product-bottom">
        <div class="product-price">${money(p.price)}</div>

        <div class="qty-control">
          <input type="number" class="qty-input js-qty-input" data-id="${p.id}" min="1" value="1">
          <div class="qty-arrows">
            <button class="qty-arrow js-qty-up" data-id="${p.id}"><i data-lucide="chevron-up"></i></button>
            <button class="qty-arrow js-qty-down" data-id="${p.id}"><i data-lucide="chevron-down"></i></button>
          </div>
        </div>

        <button class="btn btn-primary product-add-btn js-add-to-cart" data-id="${p.id}">
          <i data-lucide="shopping-cart"></i> –£ –∫–æ—à–∏–∫
        </button>
      </div>
    `;

    productsGrid.appendChild(card);
  });

  lucide.createIcons();
}

/* ============================================================
   üüß 9. –§–ò–õ–¨–¢–†–ê–¶–ò–Ø
============================================================ */
function filterProducts(){
  let list = [...PRODUCTS];

  const active = document.querySelector('.category-chip.active');
  const cat = active ? active.textContent : '–£—Å—ñ';
  if(cat !== '–£—Å—ñ') list = list.filter(p => p.category === cat);

  const q = document.getElementById('searchInput').value.trim().toLowerCase();
  if(q) list = list.filter(p => p.title.toLowerCase().includes(q));

  const min = parseFloat(document.getElementById('minPrice').value || 0);
  const max = parseFloat(document.getElementById('maxPrice').value || 0);
  if(min>0) list = list.filter(p => p.price >= min);
  if(max>0) list = list.filter(p => p.price <= max);

  const sort = document.getElementById('sortSelect').value;
  if(sort === 'price-asc') list.sort((a,b)=>a.price-b.price);
  if(sort === 'price-desc') list.sort((a,b)=>b.price-a.price);

  renderProducts(list);
}

/* ============================================================
   üüß 10. –°–û–ë–´–¢–ò–Ø –î–õ–Ø –ì–†–ò–î–ê (–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
============================================================ */
productsGrid.addEventListener('click', e=>{
  const quick = e.target.closest('.js-quick-view');
  if(quick){
    openProductModal(Number(quick.dataset.id));
    return;
  }

  const addBtn = e.target.closest('.js-add-to-cart');
  if(addBtn){
    addToCart(Number(addBtn.dataset.id));
    return;
  }

  const up = e.target.closest('.js-qty-up');
  if(up){
    const id = Number(up.dataset.id);
    const input = document.querySelector(`.js-qty-input[data-id="${id}"]`);
    input.value = Number(input.value)+1;
    return;
  }

  const down = e.target.closest('.js-qty-down');
  if(down){
    const id = Number(down.dataset.id);
    const input = document.querySelector(`.js-qty-input[data-id="${id}"]`);
    input.value = Math.max(1, Number(input.value)-1);
    return;
  }
});

/* ============================================================
   üüß 11. –ö–û–†–ó–ò–ù–ê
============================================================ */
function addToCart(id, qtyFromModal){
  const p = PRODUCTS.find(x=>x.id===id);
  if(!p) return;

  let qty = qtyFromModal ??
    parseFloat(document.querySelector(`.js-qty-input[data-id="${id}"]`)?.value || 1);

  if(isNaN(qty) || qty<1) qty = 1;

  const found = cart.find(x=>x.id===id);
  if(found) found.qty += qty;
  else cart.push({...p, qty});

  saveCart();
  updateCartUI();
  showToast('–¢–æ–≤–∞—Ä –¥–æ–¥–∞–Ω–æ —É –∫–æ—à–∏–∫');
}

function updateCartUI(){
  const box = document.getElementById('cartItems');
  box.innerHTML = '';
  let total = 0;

  cart.forEach(item=>{
    total += item.qty * item.price;

    const div = document.createElement('div');
    div.className = 'cart-item';
    div.innerHTML = `
      <strong>${item.title}</strong><br>
      ${item.qty} √ó ${item.price} –≥—Ä–Ω = ${item.qty*item.price} –≥—Ä–Ω
      <button style="float:right;border:0;background:none;color:var(--danger);cursor:pointer;font-size:18px"
        data-id="${item.id}" class="js-remove-cart">√ó</button>
    `;
    box.appendChild(div);
  });

  document.getElementById('cartTotal').textContent = money(total);
  document.getElementById('cartCount').textContent = cart.reduce((s,i)=>s+i.qty,0);
}

/* ============================================================
   üüß 12. –ú–û–î–ê–õ–ö–ê –¢–û–í–ê–†–ê
============================================================ */
function openProductModal(id){
  const p = PRODUCTS.find(x=>x.id===id);
  if(!p) return;

  currentProductId = id;

  modalImage.src = p.img;
  modalCategory.textContent = p.category;
  modalTitle.textContent = p.title;
  modalSku.textContent = p.sku;
  modalPrice.textContent = money(p.price);

  modalShort.innerHTML = p.short;
  modalFull.innerHTML = p.full;

  modalFull.style.display = 'none';
  modalQtyInput.value = 1;

  productModal.classList.remove('hidden');
  productModalOverlay.classList.remove('hidden');

  lucide.createIcons();
}

function closeProductModal(){
  productModal.classList.add('hidden');
  productModalOverlay.classList.add('hidden');
}

/* ============================================================
   üüß 13. –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
============================================================ */
(async function init(){
  document.getElementById('year').textContent = new Date().getFullYear();

  await loadProductsFromXML();
  renderCategories();
  renderProducts(PRODUCTS);
  updateCartUI();

  lucide.createIcons();
})();
</script>
</body>
</html>
