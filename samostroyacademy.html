<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />

  <title>Samostroy Academy ‚Äî –¢–≤—ñ–π —à–ª—è—Ö –¥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É</title>

  <link rel="icon" type="image/png" href="favicon.png">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    :root{
      --bg:#050509;
      --bg2:#0b0c11;
      --card:rgba(255,255,255,0.05);
      --card2:rgba(255,255,255,0.08);
      --accent:#ff7a1a;
      --accent2:#ffb347;
      --text:#f1f1f4;
      --muted:#a8abb5;
      --border:rgba(255,255,255,0.14);
      --radius:22px;
      --shadow:0 20px 50px rgba(0,0,0,0.55);
      --grad:linear-gradient(135deg,var(--accent),var(--accent2));
    }

    *{margin:0;padding:0;box-sizing:border-box;}
    body{
      font-family:"Inter",sans-serif;
      background:radial-gradient(circle at 20% 10%, rgba(255,122,26,0.15), transparent 55%), var(--bg);
      color:var(--text);
    }
    a{text-decoration:none;color:inherit;}

    header{
      padding:18px 24px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      background:rgba(5,5,9,0.75);
      backdrop-filter:blur(12px);
      border-bottom:1px solid var(--border);
      position:sticky;top:0;z-index:50;
    }
    .logo-wrap{
      display:flex;
      align-items:center;
      gap:10px;
    }
    .logo{
      font-size:26px;
      font-weight:800;
      background:var(--grad);
      -webkit-background-clip:text;
      color:transparent;
      letter-spacing:1px;
    }
    .student-chip{
      padding:6px 12px;
      border-radius:14px;
      background:rgba(255,255,255,0.05);
      border:1px solid var(--border);
      display:flex;
      align-items:center;
      gap:8px;
      font-size:13px;
      color:var(--accent2);
    }
    .student-chip i{
      width:16px;
      height:16px;
    }

    .btn{
      padding:10px 18px;
      background:var(--grad);
      color:#000;
      font-weight:700;
      border-radius:14px;
      display:inline-flex;
      align-items:center;
      gap:6px;
      border:none;
      cursor:pointer;
      transition:0.25s;
      text-align:center;
      white-space:nowrap;
    }
    .btn:hover{transform:translateY(-2px);}
    .btn-outline{
      background:transparent;
      color:var(--accent2);
      border:1px solid var(--accent);
      box-shadow:none;
    }
    .btn i{
      width:16px;
      height:16px;
    }

    .section{
      max-width:1200px;
      margin:40px auto;
      padding:0 20px;
    }

    .title{
      font-size:30px;
      font-weight:800;
      margin-bottom:10px;
      background:var(--grad);
      -webkit-background-clip:text;
      color:transparent;
    }
    .sub{
      font-size:15px;
      color:var(--muted);
      margin-bottom:26px;
      max-width:700px;
    }

    /* HERO */
    .hero{
      max-width:1200px;
      margin:30px auto 10px;
      padding:0 20px;
      display:grid;
      grid-template-columns:minmax(0,1.4fr) minmax(260px,1fr);
      gap:28px;
      align-items:center;
    }
    .hero-title{
      font-size:clamp(28px,4vw,36px);
      font-weight:800;
      background:var(--grad);
      -webkit-background-clip:text;
      color:transparent;
      margin-bottom:10px;
    }
    .hero-text{
      font-size:15px;
      color:var(--muted);
      margin-bottom:18px;
      max-width:650px;
    }
    .hero-stats{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top:10px;
    }
    .hero-stat{
      padding:9px 12px;
      border-radius:14px;
      background:var(--card2);
      border:1px solid var(--border);
      min-width:150px;
      font-size:13px;
    }
    .hero-stat strong{
      display:block;
      color:var(--accent2);
      margin-bottom:2px;
    }
    .hero-img{
      width:100%;
      height:230px;
      border-radius:22px;
      border:1px solid var(--border);
      box-shadow:var(--shadow);
      background-size:cover;
      background-position:center;
      /* TODO: –∑–∞–º—ñ–Ω–∏ –Ω–∞ —Å–≤—ñ–π –≥–æ–ª–æ–≤–Ω–∏–π –±–∞–Ω–µ—Ä */
      background-image:url('https://i.ibb.co/Pv544dsR/unnamed-27.jpg');
    }

    @media(max-width:900px){
      .hero{
        grid-template-columns:1fr;
      }
      .hero-img{
        order:-1;
        height:200px;
      }
    }

    /* DASHBOARD */
    .dash-card{
      background:var(--card2);
      border-radius:26px;
      border:1px solid var(--border);
      padding:26px;
      box-shadow:var(--shadow);
      display:grid;
      grid-template-columns:1.2fr 1fr;
      gap:26px;
      margin-bottom:40px;
    }
    @media(max-width:900px){
      .dash-card{
        grid-template-columns:1fr;
      }
    }

    .dash-title{
      font-size:22px;
      font-weight:700;
      margin-bottom:6px;
    }
    .dash-username{
      font-size:15px;
      color:var(--accent2);
      margin-bottom:14px;
    }
    .dash-row-top{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
    }
    .dash-row-top .btn-outline{
      font-size:12px;
      padding:7px 12px;
      border-radius:999px;
    }

    /* PROGRESS */
    .progress-top{
      display:flex;
      justify-content:space-between;
      font-size:14px;
      color:var(--muted);
      margin-bottom:6px;
    }
    .progress-track{
      width:100%;
      height:12px;
      border-radius:999px;
      background:rgba(255,255,255,0.06);
      overflow:hidden;
      border:1px solid rgba(255,255,255,0.1);
    }
    .progress-bar{
      height:100%;
      width:0%;
      background:var(--grad);
      border-radius:999px;
      transition:0.35s ease;
    }
    .stats-row{
      margin-top:12px;
      display:flex;
      gap:14px;
      flex-wrap:wrap;
      font-size:14px;
      color:var(--muted);
    }
    .dash-hint{
      font-size:12px;
      color:var(--muted);
      margin-top:10px;
    }

    /* ACHIEVEMENTS */
    .ach-list{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:8px;
    }
    .ach-item{
      padding:8px 12px;
      background:rgba(255,255,255,0.06);
      border-radius:14px;
      border:1px solid rgba(255,255,255,0.12);
      display:flex;
      align-items:center;
      gap:6px;
      font-size:12px;
      color:var(--muted);
    }
    .ach-item i{
      width:14px;
      height:14px;
    }
    .ach-earned{
      background:rgba(255,179,71,0.14);
      border-color:rgba(255,179,71,0.5);
      color:var(--accent2);
    }

    /* COURSE LIST */
    .course-list{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(280px,1fr));
      gap:22px;
    }
    .course-card{
      background:var(--card);
      border-radius:22px;
      border:1px solid var(--border);
      padding:18px 18px 18px;
      box-shadow:var(--shadow);
      transition:0.25s;
      display:flex;
      flex-direction:column;
      gap:10px;
      position:relative;
    }
    .course-card:hover{
      transform:translateY(-3px);
    }
    .course-cover{
      width:100%;
      height:150px;
      border-radius:18px;
      background-size:cover;
      background-position:center;
      border:1px solid var(--border);
      margin-bottom:6px;
    }
    .course-name{
      font-size:18px;
      font-weight:700;
      margin-bottom:4px;
      color:var(--accent2);
    }
    .course-status-line{
      font-size:13px;
      color:var(--muted);
      margin-bottom:6px;
    }
    .course-meta{
      font-size:12px;
      color:var(--muted);
      margin-bottom:6px;
    }
    .course-progress-line{
      font-size:13px;
      color:var(--muted);
      margin-bottom:8px;
    }
    .course-badge{
      position:absolute;
      top:10px;
      left:10px;
      padding:5px 9px;
      border-radius:999px;
      font-size:11px;
      background:rgba(5,5,9,0.8);
      border:1px solid rgba(255,255,255,0.15);
      color:var(--muted);
    }
    .course-badge-main{
      color:#5ce3a0;
      border-color:rgba(0,200,120,0.7);
    }
    .course-badge-locked{
      color:#f97373;
      border-color:rgba(248,113,113,0.8);
    }
    .course-actions{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      margin-top:auto;
    }
    .btn-small{
      padding:8px 14px;
      font-size:13px;
      border-radius:14px;
    }
    .btn-ghost{
      background:transparent;
      border:1px solid var(--border);
      color:var(--muted);
    }
    .btn-ghost:hover{
      background:rgba(255,255,255,0.05);
      color:var(--accent2);
    }
    .btn-disabled{
      opacity:.45;
      pointer-events:none;
    }

    /* EMPTY STATE */
    .empty-box{
      background:var(--card);
      border-radius:22px;
      border:1px solid var(--border);
      padding:20px;
      font-size:14px;
      color:var(--muted);
    }

    /* INFO CARD */
    .info-card{
      background:var(--card);
      border-radius:22px;
      border:1px solid var(--border);
      padding:18px 18px;
      box-shadow:var(--shadow);
      max-width:700px;
    }
    .info-line{
      font-size:14px;
      color:var(--muted);
      margin-bottom:4px;
      display:flex;
      align-items:center;
      gap:6px;
    }
    .info-line i{
      width:16px;
      height:16px;
    }

    footer{
      text-align:center;
      padding:20px;
      font-size:13px;
      color:var(--muted);
      border-top:1px solid var(--border);
      margin-top:40px;
    }

    /* NAME MODAL */
    .overlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.65);
      backdrop-filter:blur(8px);
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:100;
    }
    .overlay.hidden{
      display:none;
    }
    .name-modal{
      background:var(--bg2);
      border-radius:24px;
      border:1px solid var(--border);
      box-shadow:var(--shadow);
      max-width:420px;
      width:92%;
      padding:22px 20px 20px;
      animation:fadeUp .3s ease both;
    }
    .name-modal-title{
      font-size:18px;
      font-weight:700;
      margin-bottom:6px;
    }
    .name-modal-sub{
      font-size:13px;
      color:var(--muted);
      margin-bottom:14px;
    }
    .name-input-wrap{
      margin-bottom:14px;
    }
    .name-input-wrap label{
      font-size:13px;
      color:var(--muted);
      display:block;
      margin-bottom:4px;
    }
    .name-input-wrap input{
      width:100%;
      padding:9px 10px;
      border-radius:12px;
      border:1px solid var(--border);
      background:var(--bg2);
      color:var(--text);
      outline:none;
      font-size:14px;
    }

    .avatar-grid{
      display:grid;
      grid-template-columns:repeat(3,minmax(0,1fr));
      gap:10px;
      margin-bottom:14px;
    }
    .avatar-option{
      border-radius:16px;
      padding:10px;
      border:1px solid rgba(255,255,255,0.1);
      background:rgba(255,255,255,0.03);
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:6px;
      cursor:pointer;
      transition:0.2s;
    }
    .avatar-icon{
      width:34px;
      height:34px;
      border-radius:999px;
      display:flex;
      align-items:center;
      justify-content:center;
      background:linear-gradient(135deg,rgba(255,122,26,0.25),rgba(255,179,71,0.2));
    }
    .avatar-icon i{
      width:20px;
      height:20px;
    }
    .avatar-label{
      font-size:11px;
      color:var(--muted);
      text-align:center;
    }
    .avatar-option.selected{
      border-color:rgba(255,179,71,0.9);
      box-shadow:0 0 0 1px rgba(255,179,71,0.6);
      transform:translateY(-1px);
    }
    .name-modal-actions{
      display:flex;
      justify-content:flex-end;
      gap:8px;
      margin-top:4px;
    }
    .btn-secondary{
      background:transparent;
      border:1px solid var(--border);
      color:var(--muted);
    }
    .btn-secondary:hover{
      background:rgba(255,255,255,0.04);
      color:var(--accent2);
    }

    @media(max-width:600px){
      header{
        padding:14px 16px;
      }
      .dash-card{
        padding:18px 16px;
      }
      .course-card{
        padding:16px;
      }
      .btn{
        font-size:13px;
      }
    }

    @keyframes fadeUp{
      0%{opacity:0;transform:translateY(10px);}
      100%{opacity:1;transform:translateY(0);}
    }
  </style>
</head>

<body>

<header>
  <div class="logo-wrap">
    <div class="logo">Samostroy Academy</div>
    <div class="student-chip">
      <i data-lucide="user"></i>
      <span id="chipName">–°—Ç—É–¥–µ–Ω—Ç</span>
    </div>
  </div>

  <button class="btn btn-outline" id="changeProfileBtn">
    <i data-lucide="user-pen"></i>
    –ó–º—ñ–Ω–∏—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å
  </button>
</header>

<!-- HERO -->
<section class="hero">
  <div>
    <h1 class="hero-title">–¢–≤—ñ–π –Ω–∞–≤—á–∞–ª—å–Ω–∏–π –∫–∞–±—ñ–Ω–µ—Ç</h1>
    <p class="hero-text">
      –£—Å—ñ –∫—É—Ä—Å–∏, –ø—Ä–æ–≥—Ä–µ—Å, –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è —Ç–∞ —Ä—ñ–≤–µ–Ω—å ‚Äî –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ. –ü–æ—á–Ω–∏ –∑ –±–∞–∑–æ–≤–æ–≥–æ –∫—É—Ä—Å—É
      <b>¬´–î—Ä–æ–ø—à–∏–ø—ñ–Ω–≥ –∑ –Ω—É–ª—è¬ª</b>, –∞ –ø–æ—Ç—ñ–º –≤—ñ–¥–∫—Ä–∏–≤–∞–π –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ñ –ø—Ä–æ–≥—Ä–∞–º–∏, –∫–æ–ª–∏ –±—É–¥–µ—à –≥–æ—Ç–æ–≤–∏–π.
    </p>
    <div class="hero-stats">
      <div class="hero-stat">
        <strong>–°—Ç–∞—Ä—Ç –ø–µ—Ä—à–æ–≥–æ –∫—É—Ä—Å—É</strong>
        10.01.2026 ‚Ä¢ 09:00
      </div>
      <div class="hero-stat">
        <strong>–ö—É—Ä—Å—ñ–≤ –≤ –∞–∫–∞–¥–µ–º—ñ—ó</strong>
        8 –ø—Ä–æ–≥—Ä–∞–º
      </div>
      <div class="hero-stat">
        <strong>–í–∂–µ –ø—Ä–∏—î–¥–Ω–∞–ª–æ—Å—è</strong>
        <span id="heroStudents">57+ —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤</span>
      </div>
    </div>
  </div>
  <div class="hero-img"></div>
</section>

<section class="section">
  <!-- DASHBOARD -->
  <div class="dash-card">
    <div>
      <div class="dash-row-top">
        <div>
          <div class="dash-title">–ü—Ä–∏–≤—ñ—Ç, <span id="dashName">–°—Ç—É–¥–µ–Ω—Ç</span> üëã</div>
          <div class="dash-username">–¢–≤—ñ–π —Ä—ñ–≤–µ–Ω—å: <b id="dashLevel">–ù–æ–≤–∞—á–æ–∫</b></div>
        </div>
        <button class="btn btn-outline" id="resetProgressBtn">
          <i data-lucide="rotate-ccw"></i>
          –°–∫–∏–Ω—É—Ç–∏ –ø—Ä–æ–≥—Ä–µ—Å
        </button>
      </div>

      <div class="progress-top">
        <span id="dashProgressTitle">–ü—Ä–æ–≥—Ä–µ—Å –ø–æ –∫—É—Ä—Å—É ¬´–î—Ä–æ–ø—à–∏–ø—ñ–Ω–≥ –∑ –Ω—É–ª—è¬ª</span>
        <span id="dashProgress">0%</span>
      </div>

      <div class="progress-track">
        <div class="progress-bar" id="dashProgressBar"></div>
      </div>

      <div class="stats-row">
        <span id="openedCount">–í—ñ–¥–∫—Ä–∏—Ç–æ: 0 –º–æ–¥—É–ª—ñ–≤</span>
        <span id="completedCount">–ü—Ä–æ–π–¥–µ–Ω–æ: 0 –º–æ–¥—É–ª—ñ–≤</span>
      </div>

      <div class="dash-hint" id="dashHint">
        –ü–æ—á–Ω–∏ –∑ –±–∞–∑–æ–≤–æ–≥–æ –∫—É—Ä—Å—É, –ø—Ä–æ–π–¥–∏ –ø–µ—Ä—à–∏–π –º–æ–¥—É–ª—å —ñ –≤—ñ–¥–∫—Ä–∏–π –¥–ª—è —Å–µ–±–µ –Ω–∞—Å—Ç—É–ø–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ.
      </div>
    </div>

    <div>
      <div class="dash-title">–î–æ—Å—è–≥–Ω–µ–Ω–Ω—è</div>
      <div class="ach-list" id="achList"></div>
    </div>
  </div>

  <!-- MY COURSES -->
  <h2 class="title">–¢–≤–æ—ó –∫—É—Ä—Å–∏</h2>
  <p class="sub">–¢—É—Ç –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –ø—Ä–æ–≥—Ä–∞–º–∏, —è–∫—ñ —Ç–∏ –≤–∂–µ –ø–æ—á–∞–≤ –∞–±–æ –∑–∞–≤–µ—Ä—à–∏–≤.</p>

  <div id="myCoursesList" class="course-list"></div>
  <div id="myCoursesEmpty" class="empty-box" style="display:none;">
    –£ —Ç–µ–±–µ –ø–æ–∫–∏ –Ω–µ–º–∞—î –∞–∫—Ç–∏–≤–Ω–∏—Ö –∫—É—Ä—Å—ñ–≤. –ü–æ—á–Ω–∏ –∑ <b>¬´–î—Ä–æ–ø—à–∏–ø—ñ–Ω–≥ –∑ –Ω—É–ª—è¬ª</b> —É —Ä–æ–∑–¥—ñ–ª—ñ ¬´–í—Å—ñ –∫—É—Ä—Å–∏ –∞–∫–∞–¥–µ–º—ñ—ó¬ª.
  </div>
</section>

<!-- ALL COURSES -->
<section class="section">
  <h2 class="title">–í—Å—ñ –∫—É—Ä—Å–∏ –∞–∫–∞–¥–µ–º—ñ—ó</h2>
  <p class="sub">–£—Å—ñ –Ω–∞–≤—á–∞–ª—å–Ω—ñ –ø—Ä–æ–≥—Ä–∞–º–∏: –∞–∫—Ç–∏–≤–Ω—ñ, –º–∞–π–±—É—Ç–Ω—ñ —Ç–∞ –≤ —Ä–æ–∑—Ä–æ–±—Ü—ñ.</p>

  <div id="allCoursesList" class="course-list"></div>
</section>

<section class="section">
  <h2 class="title">2026 ‚Äî —Ä—ñ–∫ –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π</h2>
  <p class="sub">
    –û–Ω–ª–∞–π–Ω-–ø—Ä–æ–¥–∞–∂—ñ –≤ –£–∫—Ä–∞—ó–Ω—ñ –∑—Ä–æ—Å—Ç–∞—é—Ç—å —â–æ—Ä–æ–∫—É. –î—Ä–æ–ø—à–∏–ø—ñ–Ω–≥ ‚Äî –æ–¥–∏–Ω –∑ –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏—Ö —Å–ø–æ—Å–æ–±—ñ–≤ —É–≤—ñ–π—Ç–∏ 
    –≤ –±—ñ–∑–Ω–µ—Å –±–µ–∑ –≤–µ–ª–∏–∫–∏—Ö —Ä–∏–∑–∏–∫—ñ–≤ —ñ —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ –∫–∞–ø—ñ—Ç–∞–ª—É. –ê–ª–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç—Ä–∏–º—É—é—Ç—å —Ç—ñ–ª—å–∫–∏ —Ç—ñ, —Ö—Ç–æ –¥—ñ—î.
  </p>

  <div class="info-card">
    <div class="info-line">
      <i data-lucide="trending-up"></i>
      <span><b>–†–∏–Ω–æ–∫ e-commerce 2026</b> –ø—Ä–æ–¥–æ–≤–∂—É—î —Ä–æ—Å—Ç–∏ ‚Äî –≤—Å–µ –±—ñ–ª—å—à–µ –ª—é–¥–µ–π –∫—É–ø—É—é—Ç—å –æ–Ω–ª–∞–π–Ω.</span>
    </div>
    <div class="info-line">
      <i data-lucide="shopping-bag"></i>
      <span>–î—Ä–æ–ø—à–∏–ø—ñ–Ω–≥ –¥–æ–∑–≤–æ–ª—è—î –ø—Ä–æ–¥–∞–≤–∞—Ç–∏, –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ —Ç–æ–≤–∞—Ä –Ω–∞ —Å–∫–ª–∞–¥—ñ.</span>
    </div>
    <div class="info-line">
      <i data-lucide="rocket"></i>
      <span><b>–¢–≤—ñ–π —Å—Ç–∞—Ä—Ç</b> ‚Äî —Ü–µ –ø–µ—Ä—à–∏–π –∫—É—Ä—Å —É —Ü—ñ–π –∞–∫–∞–¥–µ–º—ñ—ó. –î–∞–ª—ñ –≤—Å–µ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Ç–≤–æ—ó—Ö –¥—ñ–π.</span>
    </div>
  </div>
</section>

<footer>
  ¬© <span id="year"></span> Samostroy Academy
</footer>

<!-- NAME MODAL -->
<div class="overlay hidden" id="nameOverlay">
  <div class="name-modal">
    <div class="name-modal-title">–ü–æ–∑–Ω–∞–π–æ–º–∏–º–æ—Å—å –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º üëã</div>
    <div class="name-modal-sub">
      –¶–µ —ñ–º‚Äô—è –±—É–¥–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏—Å—è —É —Ç–≤–æ—î–º—É –∫–∞–±—ñ–Ω–µ—Ç—ñ, –∫—É—Ä—Å–∞—Ö —Ç–∞ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è—Ö.
    </div>

    <div class="name-input-wrap">
      <label for="studentNameInput">–¢–≤–æ—î —ñ–º‚Äô—è:</label>
      <input type="text" id="studentNameInput" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –Ñ–≤–≥–µ–Ω" />
    </div>

    <div class="name-modal-sub" style="margin-bottom:8px;">
      –û–±–µ—Ä–∏ —Å—Ç–∏–ª—å —Å–≤–æ–≥–æ –ø—Ä–æ—Ñ—ñ–ª—é:
    </div>

    <div class="avatar-grid" id="avatarGrid">
      <div class="avatar-option" data-avatar="1">
        <div class="avatar-icon"><i data-lucide="flame"></i></div>
        <div class="avatar-label">–ê–º–±—ñ—Ü—ñ–π–Ω–∏–π</div>
      </div>
      <div class="avatar-option" data-avatar="2">
        <div class="avatar-icon"><i data-lucide="rocket"></i></div>
        <div class="avatar-label">–®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç</div>
      </div>
      <div class="avatar-option" data-avatar="3">
        <div class="avatar-icon"><i data-lucide="target"></i></div>
        <div class="avatar-label">–§–æ–∫—É—Å –Ω–∞ —Ü—ñ–ª—ñ</div>
      </div>
      <div class="avatar-option" data-avatar="4">
        <div class="avatar-icon"><i data-lucide="shield-check"></i></div>
        <div class="avatar-label">–°—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å</div>
      </div>
      <div class="avatar-option" data-avatar="5">
        <div class="avatar-icon"><i data-lucide="star"></i></div>
        <div class="avatar-label">–ú–∞–π–±—É—Ç–Ω—ñ–π –ª—ñ–¥–µ—Ä</div>
      </div>
      <div class="avatar-option" data-avatar="6">
        <div class="avatar-icon"><i data-lucide="coins"></i></div>
        <div class="avatar-label">–§—ñ–Ω–∞–Ω—Å–æ–≤–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</div>
      </div>
    </div>

    <div class="name-modal-actions">
      <button class="btn btn-secondary" id="nameSkipBtn">–ü—ñ–∑–Ω—ñ—à–µ</button>
      <button class="btn" id="nameSaveBtn">
        <i data-lucide="check-circle-2"></i>
        –ó–±–µ—Ä–µ–≥—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å
      </button>
    </div>
  </div>
</div>

<script>
  document.getElementById("year").textContent = new Date().getFullYear();
  if (window.lucide) lucide.createIcons();

  const PROFILE_KEY  = "academy_student_profile_v1"; // —Ç–æ–π —Å–∞–º–∏–π, —â–æ –π —É —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∫—É—Ä—Å—É
  const PROGRESS_KEY = "academy_modules_completed_v1"; // –º–æ–¥—É–ª—ñ ¬´–î—Ä–æ–ø—à–∏–ø—ñ–Ω–≥ –∑ –Ω—É–ª—è¬ª
  const MODULES_TOTAL = 7;

  // –ö–∞—Ä—Ç—É –∫—É—Ä—Å—ñ–≤ —Ä–æ–±–∏–º–æ —î–¥–∏–Ω—É
  const COURSES = [
    {
      id:"ds_zero",
      title:"–î—Ä–æ–ø—à–∏–ø—ñ–Ω–≥ –∑ –Ω—É–ª—è",
      cover:"https://i.ibb.co/v67Dq0Vg/unnamed-21.jpg", // TODO: —Å–≤—ñ–π –±–∞–Ω–µ—Ä
      level:"–ë–∞–∑–æ–≤–∏–π –∫—É—Ä—Å",
      url:"SamostroyAcademyProgram.html",  // —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–∏ –∫—É—Ä—Å—É
      type:"main"
    },
    {
      id:"scale_up",
      title:"–ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è",
      cover:"course_scale_up.jpg", // TODO
      level:"–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∏–π —Ä—ñ–≤–µ–Ω—å",
      url:"#",
      type:"advanced"
    },
    {
      id:"million100",
      title:"–ú—ñ–ª—å–π–æ–Ω –∑–∞ 100",
      cover:"course_million100.jpg", // TODO
      level:"–§–æ–∫—É—Å –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç",
      url:"#",
      type:"advanced"
    },
    {
      id:"sales3",
      title:"–ü—Ä–æ–¥–∞–∂—ñ 3.0",
      cover:"course_sales3.jpg", // TODO
      level:"–ü—Ä–æ–¥–∞–∂—ñ —Ç–∞ —Å–∫—Ä–∏–ø—Ç–∏",
      url:"#",
      type:"sales"
    },
    {
      id:"leadership",
      title:"–õ—ñ–¥–µ—Ä—Å—Ç–≤–æ",
      cover:"course_leadership.jpg", // TODO
      level:"–û—Å–æ–±–∏—Å—Ç–∏–π –≤–ø–ª–∏–≤",
      url:"#",
      type:"soft"
    },
    {
      id:"selfgrowth",
      title:"–°–∞–º–æ—Ä–æ–∑–≤–∏—Ç–æ–∫",
      cover:"course_selfgrowth.jpg", // TODO
      level:"–í–Ω—É—Ç—Ä—ñ—à–Ω—è —Ä–æ–±–æ—Ç–∞",
      url:"#",
      type:"soft"
    },
    {
      id:"learn60",
      title:"–ù–∞–≤—á–∏—Å—å –∑–∞ 60 —Ö–≤–∏–ª–∏–Ω",
      cover:"course_learn60.jpg", // TODO
      level:"–ï–∫—Å–ø—Ä–µ—Å —Ñ–æ—Ä–º–∞—Ç",
      url:"#",
      type:"mini"
    },
    {
      id:"change_or_die",
      title:"–ó–º—ñ–Ω–∏—Å—å –∞–±–æ –ø–æ–º—Ä–∏",
      cover:"course_change_or_die.jpg", // TODO
      level:"–†–∞–¥–∏–∫–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–∏",
      url:"#",
      type:"mindset"
    }
  ];

  // ====== –ü–†–û–§–Ü–õ–¨ / –°–¢–ê–ù –ê–ö–ê–î–ï–ú–Ü–á  ======

  function defaultCoursesState(){
    const map = {};
    COURSES.forEach(c => {
      map[c.id] = {
        started:false,
        completed:false,
        progress:0
      };
    });
    return map;
  }

  function loadProfileState(){
    try{
      const raw = localStorage.getItem(PROFILE_KEY);
      if(!raw) return null;
      const p = JSON.parse(raw);
      if(!p || typeof p !== "object") return null;

      // –ì–∞—Ä–∞–Ω—Ç—É—î–º–æ –Ω–æ–≤—ñ –ø–æ–ª—è
      if(!p.courses) p.courses = defaultCoursesState();
      else{
        // –¥–æ–¥–∞—Ç–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ –∫—É—Ä—Å–∏
        const existing = p.courses;
        COURSES.forEach(c=>{
          if(!existing[c.id]){
            existing[c.id] = {started:false,completed:false,progress:0};
          }
        });
        p.courses = existing;
      }
      if(typeof p.currentCourseId === "undefined"){
        p.currentCourseId = null;
      }
      if(!p.createdAt){
        p.createdAt = new Date().toISOString();
      }
      if(!p.avatarId){
        p.avatarId = "1";
      }
      if(!p.name){
        p.name = "–°—Ç—É–¥–µ–Ω—Ç";
      }

      return p;
    }catch(e){
      return null;
    }
  }

  function saveProfileState(state){
    localStorage.setItem(PROFILE_KEY, JSON.stringify(state));
  }

  function loadDsZeroCompletedModules(){
    try{
      const raw = localStorage.getItem(PROGRESS_KEY);
      if(!raw) return [];
      const arr = JSON.parse(raw);
      return Array.isArray(arr) ? arr : [];
    }catch(e){
      return [];
    }
  }

  // –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–≥—Ä–µ—Å—É –±–∞–∑–æ–≤–æ–≥–æ –∫—É—Ä—Å—É –∑ –¥–∞–Ω–∏–º–∏ –∫—É—Ä—Å—É
  function syncDsZeroProgress(state){
    const completedModules = loadDsZeroCompletedModules();
    const count = completedModules.length;
    const pct = Math.round((count / MODULES_TOTAL) * 100);

    const courseState = state.courses["ds_zero"] || {started:false,completed:false,progress:0};

    if(count > 0){
      courseState.started = true;
    }
    courseState.progress = pct;
    if(count >= MODULES_TOTAL){
      courseState.completed = true;
    }

    state.courses["ds_zero"] = courseState;
    return { count, pct };
  }

  function computeLevel(completedCoursesCount){
    if(completedCoursesCount === 0) return "–ù–æ–≤–∞—á–æ–∫";
    if(completedCoursesCount === 1) return "–ê–∫—Ç–∏–≤–Ω–∏–π —É—á–µ–Ω—å";
    if(completedCoursesCount <= 3) return "–ü—Ä–∞–∫—Ç–∏–∫";
    if(completedCoursesCount <= 5) return "–ü—ñ–¥–ø—Ä–∏—î–º–µ—Ü—å";
    return "–ù–∞ —à–ª—è—Ö—É –¥–æ –º—ñ–ª—å–π–æ–Ω–∞";
  }
 
  function computeAchievements(completedModulesCount){
    return [
      {id:"first_module", name:"–ü–µ—Ä—à–∏–π –∫—Ä–æ–∫", icon:"award", earned:completedModulesCount>=1},
      {id:"three",        name:"–°—Ç–∞–±—ñ–ª—å–Ω–∏–π —É—á–µ–Ω—å", icon:"star", earned:completedModulesCount>=3},
      {id:"all",          name:"–§—ñ–Ω—ñ—à –∫—É—Ä—Å—É", icon:"trophy", earned:completedModulesCount>=7},
      {id:"start",        name:"–°—Ç–∞—Ä—Ç 2026", icon:"sparkles", earned:true}
    ];
  }

  function getCourseById(id){
    return COURSES.find(c => c.id === id);
  }

  // ====== UI ======

  const chipNameEl      = document.getElementById("chipName");
  const dashNameEl      = document.getElementById("dashName");
  const dashLevelEl     = document.getElementById("dashLevel");
  const dashProgressEl  = document.getElementById("dashProgress");
  const dashProgressBar = document.getElementById("dashProgressBar");
  const openedCountEl   = document.getElementById("openedCount");
  const completedCountEl= document.getElementById("completedCount");
  const achListEl       = document.getElementById("achList");
  const dashHintEl      = document.getElementById("dashHint");
  const heroStudentsEl  = document.getElementById("heroStudents");

  const myCoursesListEl = document.getElementById("myCoursesList");
  const myCoursesEmptyEl= document.getElementById("myCoursesEmpty");
  const allCoursesListEl= document.getElementById("allCoursesList");

  const changeProfileBtn  = document.getElementById("changeProfileBtn");
  const resetProgressBtn  = document.getElementById("resetProgressBtn");

  // –ú–æ–¥–∞–ª –ø—Ä–æ—Ñ—ñ–ª—é
  const nameOverlay       = document.getElementById("nameOverlay");
  const studentNameInput  = document.getElementById("studentNameInput");
  const avatarGrid        = document.getElementById("avatarGrid");
  const nameSaveBtn       = document.getElementById("nameSaveBtn");
  const nameSkipBtn       = document.getElementById("nameSkipBtn");
  let selectedAvatar      = "1";

  function highlightAvatar(id){
    selectedAvatar = id;
    const options = avatarGrid.querySelectorAll(".avatar-option");
    options.forEach(o => {
      o.classList.toggle("selected", o.dataset.avatar === id);
    });
  }

  avatarGrid.addEventListener("click",(e)=>{
    const opt = e.target.closest(".avatar-option");
    if(!opt) return;
    highlightAvatar(opt.dataset.avatar);
  });

  function openNameModal(isFirstTime){
    if(isFirstTime){
      nameSkipBtn.style.display = "inline-flex";
    }else{
      nameSkipBtn.style.display = "none";
    }
    nameOverlay.classList.remove("hidden");
  }
  function closeNameModal(){
    nameOverlay.classList.add("hidden");
  }

  nameSaveBtn.addEventListener("click", ()=>{
    const name = (studentNameInput.value || "").trim() || "–°—Ç—É–¥–µ–Ω—Ç";
    let state = loadProfileState();
    if(!state){
      state = {
        name,
        avatarId:selectedAvatar,
        createdAt:new Date().toISOString(),
        currentCourseId:null,
        courses:defaultCoursesState()
      };
    }else{
      state.name = name;
      state.avatarId = selectedAvatar;
    }
    saveProfileState(state);
    applyStateToUI(state);
    closeNameModal();
  });

  nameSkipBtn.addEventListener("click", ()=>{
    let state = loadProfileState();
    if(!state){
      state = {
        name:"–°—Ç—É–¥–µ–Ω—Ç",
        avatarId:selectedAvatar,
        createdAt:new Date().toISOString(),
        currentCourseId:null,
        courses:defaultCoursesState()
      };
      saveProfileState(state);
      applyStateToUI(state);
    }
    closeNameModal();
  });

  if(changeProfileBtn){
    changeProfileBtn.addEventListener("click", ()=>{
      const state = loadProfileState();
      if(state){
        studentNameInput.value = state.name || "";
        highlightAvatar(state.avatarId || "1");
      }else{
        studentNameInput.value = "";
        highlightAvatar("1");
      }
      openNameModal(false);
    });
  }

  if(resetProgressBtn){
    resetProgressBtn.addEventListener("click", ()=>{
      if(!confirm("–°–∫–∏–Ω—É—Ç–∏ –≤–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å –ø–æ –∞–∫–∞–¥–µ–º—ñ—ó —Ç–∞ –∫—É—Ä—Å—É?")) return;
      // —á–∏—Å—Ç–∏–º–æ –º–æ–¥—É–ª—ñ –±–∞–∑–æ–≤–æ–≥–æ –∫—É—Ä—Å—É
      localStorage.removeItem(PROGRESS_KEY);
      // —á–∏—Å—Ç–∏–º–æ –ø—Ä–æ—Ñ—ñ–ª—å, –∞–ª–µ –∑–∞–ª–∏—à–∏–º–æ —ñ–º º—è —Ç–∞ –∞–≤–∞—Ç–∞—Ä
      const state = loadProfileState();
      if(state){
        const newState = {
          name:state.name,
          avatarId:state.avatarId,
          createdAt:state.createdAt || new Date().toISOString(),
          currentCourseId:null,
          courses:defaultCoursesState()
        };
        saveProfileState(newState);
        applyStateToUI(newState);
      }else{
        // –ø—Ä–æ—Å—Ç–æ –ø–æ–≤–Ω–∏–π —Ä–µ—Å–µ—Ç
        localStorage.removeItem(PROFILE_KEY);
        location.reload();
      }
    });
  }

  // –õ–æ–≥—ñ–∫–∞ —Å—Ç–∞—Ä—Ç—É/–ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è –∫—É—Ä—Å—É
  window.startCourse = function(courseId){
    let state = loadProfileState();
    if(!state){
      // —è–∫—â–æ —â–æ—Å—å –ø—ñ—à–ª–æ –Ω–µ —Ç–∞–∫ ‚Äî —à–≤–∏–¥–∫–æ —Å—Ç–≤–æ—Ä–∏–º–æ –¥–µ—Ñ–æ–ª—Ç
      state = {
        name:"–°—Ç—É–¥–µ–Ω—Ç",
        avatarId:"1",
        createdAt:new Date().toISOString(),
        currentCourseId:null,
        courses:defaultCoursesState()
      };
    }

    const main = state.courses["ds_zero"];
    const target = state.courses[courseId];
    if(!target) return;

    // –ü—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø—É
    if(courseId !== "ds_zero" && !main.completed){
      alert("–°–ø–æ—á–∞—Ç–∫—É –∑–∞–≤–µ—Ä—à–∏ –∫—É—Ä—Å ¬´–î—Ä–æ–ø—à–∏–ø—ñ–Ω–≥ –∑ –Ω—É–ª—è¬ª.");
      return;
    }

    if(state.currentCourseId && state.currentCourseId !== courseId){
      const current = state.courses[state.currentCourseId];
      if(current && !current.completed){
        const cMeta = getCourseById(state.currentCourseId);
        alert("–°–ø–æ—á–∞—Ç–∫—É –∑–∞–≤–µ—Ä—à–∏ –ø–æ—Ç–æ—á–Ω–∏–π –∫—É—Ä—Å: ¬´" + (cMeta?.title || "–ø–æ—Ç–æ—á–Ω–∏–π –∫—É—Ä—Å") + "¬ª.");
        return;
      }
    }

    // –°—Ç–∞—Ä—Ç—É—î–º–æ –∫—É—Ä—Å
    state.currentCourseId = courseId;
    target.started = true;
    saveProfileState(state);
    applyStateToUI(state);

    const meta = getCourseById(courseId);
    if(meta && meta.url && meta.url !== "#"){
      window.location.href = meta.url;
    }
  };

  window.continueCourse = function(courseId){
    const meta = getCourseById(courseId);
    if(meta && meta.url && meta.url !== "#"){
      window.location.href = meta.url;
    }
  };

  function applyStateToUI(state){
    // —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—î–º–æ –ø—Ä–æ–≥—Ä–µ—Å –±–∞–∑–æ–≤–æ–≥–æ –∫—É—Ä—Å—É –∑ –º–æ–¥—É–ª—å–Ω–æ—é —Å—Ç–æ—Ä—ñ–Ω–∫–æ—é
    const dsInfo = syncDsZeroProgress(state);
    saveProfileState(state);

    const name = state.name || "–°—Ç—É–¥–µ–Ω—Ç";
    chipNameEl.textContent = name;
    dashNameEl.textContent = name;

    const completedCoursesCount = Object.values(state.courses).filter(c => c.completed).length;
    dashLevelEl.textContent = computeLevel(completedCoursesCount);

    // –ü—Ä–æ–≥—Ä–µ—Å –ø–æ –±–∞–∑–æ–≤–æ–º—É –∫—É—Ä—Å—É
    const pct = dsInfo.pct;
    const modulesCount = dsInfo.count;
    dashProgressEl.textContent = pct + "%";
    dashProgressBar.style.width = pct + "%";
    openedCountEl.textContent    = `–í—ñ–¥–∫—Ä–∏—Ç–æ: ${modulesCount} –º–æ–¥—É–ª—ñ–≤`;
    completedCountEl.textContent = `–ü—Ä–æ–π–¥–µ–Ω–æ: ${modulesCount} –º–æ–¥—É–ª—ñ–≤`;

    // –•—ñ–Ω—Ç
    if(modulesCount === 0){
      dashHintEl.textContent = "–ü–æ—á–Ω–∏ –∑ –ø–µ—Ä—à–æ–≥–æ –º–æ–¥—É–ª—è –±–∞–∑–æ–≤–æ–≥–æ –∫—É—Ä—Å—É ‚Äî —Ü–µ –≤—ñ–¥–∫—Ä–∏—î –¥–ª—è —Ç–µ–±–µ –Ω–∞—Å—Ç—É–ø–Ω—ñ –ø—Ä–æ–≥—Ä–∞–º–∏.";
    }else if(modulesCount < MODULES_TOTAL){
      dashHintEl.textContent = "–†—É—Ö–∞–π—Å—è –¥–∞–ª—ñ –ø–æ –º–æ–¥—É–ª—è—Ö. –ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∫—É—Ä—Å—É –≤—ñ–¥–∫—Ä–∏—é—Ç—å—Å—è –Ω–æ–≤—ñ –ø—Ä–æ–≥—Ä–∞–º–∏.";
    }else{
      dashHintEl.textContent = "–ë–∞–∑–æ–≤–∏–π –∫—É—Ä—Å –∑–∞–≤–µ—Ä—à–µ–Ω–æ. –¢–∏ –º–æ–∂–µ—à –æ–±—Ä–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫—É—Ä—Å —É —Ä–æ–∑–¥—ñ–ª—ñ ¬´–í—Å—ñ –∫—É—Ä—Å–∏ –∞–∫–∞–¥–µ–º—ñ—ó¬ª.";
    }

    // –î–æ—Å—è–≥–Ω–µ–Ω–Ω—è
    const ach = computeAchievements(modulesCount);
    achListEl.innerHTML = "";
    ach.forEach(a=>{
      const el = document.createElement("div");
      el.className = "ach-item " + (a.earned ? "ach-earned" : "");
      el.innerHTML = `<i data-lucide="${a.icon}"></i><span>${a.name}</span>`;
      achListEl.appendChild(el);
    });

    // –û–Ω–æ–≤–∏–º–æ –ø—Ä–∏–±–ª–∏–∑–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤ (–ø–æ –ø—Ä–∏–∫–æ–ª—É): 57 + completedCoursesCount
    const totalStudents = 57 + completedCoursesCount;
    heroStudentsEl.textContent = totalStudents + "+ —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤";

    renderMyCourses(state);
    renderAllCourses(state);

    if(window.lucide) lucide.createIcons();
  }

  function renderMyCourses(state){
    myCoursesListEl.innerHTML = "";
    const myCourses = COURSES.filter(c=>{
      const st = state.courses[c.id];
      return st && (st.started || st.completed);
    });

    if(myCourses.length === 0){
      myCoursesEmptyEl.style.display = "block";
      return;
    }
    myCoursesEmptyEl.style.display = "none";

    const mainState = state.courses["ds_zero"];
    const currentId = state.currentCourseId;

    myCourses.forEach(c=>{
      const st = state.courses[c.id];
      const pct = c.id === "ds_zero" ? st.progress : (st.progress || 0);

      const isCurrent = currentId === c.id && !st.completed;
      const badgeText = st.completed
        ? "–ó–∞–≤–µ—Ä—à–µ–Ω–æ"
        : (isCurrent ? "–ü–æ—Ç–æ—á–Ω–∏–π –∫—É—Ä—Å" : "–£ –ø—Ä–æ—Ü–µ—Å—ñ");

      const card = document.createElement("div");
      card.className = "course-card";
      card.innerHTML = `
        <div class="course-cover" style="background-image:url('${c.cover}');"></div>
        <div class="course-badge ${isCurrent ? "course-badge-main" : ""}">
          ${badgeText}
        </div>
        <div class="course-name">${c.title}</div>
        <div class="course-status-line">
          ${c.id === "ds_zero" ? "–ë–∞–∑–æ–≤–∞ —Å—Ç–∞—Ä—Ç–æ–≤–∞ –ø—Ä–æ–≥—Ä–∞–º–∞" : "–†—ñ–≤–µ–Ω—å: " + (c.level || "")}
        </div>
        <div class="course-progress-line">–ü—Ä–æ–≥—Ä–µ—Å: ${pct}%</div>
        <div class="course-actions"></div>
      `;

      const actions = card.querySelector(".course-actions");

      if(st.completed){
        const btnReview = document.createElement("button");
        btnReview.className = "btn btn-small";
        btnReview.innerHTML = `<i data-lucide="play-circle"></i> –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏`;
        btnReview.onclick = ()=>continueCourse(c.id);
        actions.appendChild(btnReview);
      }else{
        const btnContinue = document.createElement("button");
        btnContinue.className = "btn btn-small";
        btnContinue.innerHTML = `<i data-lucide="play"></i> –ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –∫—É—Ä—Å`;
        btnContinue.onclick = ()=>continueCourse(c.id);
        actions.appendChild(btnContinue);
      }

      myCoursesListEl.appendChild(card);
    });
  }

  function renderAllCourses(state){
    allCoursesListEl.innerHTML = "";
    const mainState = state.courses["ds_zero"];
    const currentId = state.currentCourseId;

    COURSES.forEach(c=>{
      const st = state.courses[c.id];
      const card = document.createElement("div");
      card.className = "course-card";

      const pct = c.id === "ds_zero" ? (st.progress || 0) : (st.progress || 0);

      // –õ–æ–≥—ñ–∫–∞ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è
      let locked = false;
      let lockedReason = "";
      let badgeClass = "";
      let badgeText = "";

      if(c.id === "ds_zero"){
        badgeClass = "course-badge-main";
        badgeText = st.completed ? "–ó–∞–≤–µ—Ä—à–µ–Ω–æ" : "–ë–∞–∑–æ–≤–∏–π –∫—É—Ä—Å";
      }else{
        if(!mainState.completed){
          locked = true;
          lockedReason = "–°–ø–æ—á–∞—Ç–∫—É –∑–∞–≤–µ—Ä—à–∏ ¬´–î—Ä–æ–ø—à–∏–ø—ñ–Ω–≥ –∑ –Ω—É–ª—è¬ª.";
          badgeClass = "course-badge-locked";
          badgeText = "–ó–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ";
        }else if(currentId && currentId !== c.id && !state.courses[currentId].completed){
          locked = true;
          const curMeta = getCourseById(currentId);
          lockedReason = "–ó–∞–≤–µ—Ä—à–∏ –ø–æ—Ç–æ—á–Ω–∏–π –∫—É—Ä—Å: ¬´" + (curMeta?.title || "–ø–æ—Ç–æ—á–Ω–∏–π –∫—É—Ä—Å") + "¬ª.";
          badgeClass = "course-badge-locked";
          badgeText = "–ó–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ";
        }else{
          badgeClass = st.completed ? "course-badge-main" : "";
          badgeText = st.completed ? "–ó–∞–≤–µ—Ä—à–µ–Ω–æ" : "–î–æ—Å—Ç—É–ø–Ω–∏–π";
        }
      }

      card.innerHTML = `
        <div class="course-cover" style="background-image:url('${c.cover}');"></div>
        <div class="course-badge ${badgeClass}">${badgeText}</div>
        <div class="course-name">${c.title}</div>
        <div class="course-status-line">
          ${
            c.id === "ds_zero"
              ? "–°—Ç–∞—Ä—Ç–æ–≤–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ –¥–ª—è –≤—Ö–æ–¥—É —É –¥—Ä–æ–ø—à–∏–ø—ñ–Ω–≥."
              : (c.level || "")
          }
        </div>
        <div class="course-meta">
          ${
            locked
              ? lockedReason
              : (st.completed ? "–ö—É—Ä—Å –ø—Ä–æ–π–¥–µ–Ω–æ." : (st.started ? "–ö—É—Ä—Å –≤–∂–µ —Ä–æ–∑–ø–æ—á–∞—Ç–æ." : "–ú–æ–∂–Ω–∞ –ø–æ—á–∞—Ç–∏ —É –±—É–¥—å-—è–∫–∏–π —á–∞—Å."))
          }
        </div>
        <div class="course-progress-line">–ü—Ä–æ–≥—Ä–µ—Å: ${pct}%</div>
        <div class="course-actions"></div>
      `;

      const actions = card.querySelector(".course-actions");

      if(locked){
        const btn = document.createElement("button");
        btn.className = "btn btn-small btn-disabled";
        btn.innerHTML = `<i data-lucide="lock"></i> –ó–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ`;
        actions.appendChild(btn);
      }else{
        if(st.completed){
          const btn = document.createElement("button");
          btn.className = "btn btn-small";
          btn.innerHTML = `<i data-lucide="play-circle"></i> –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏`;
          btn.onclick = ()=>continueCourse(c.id);
          actions.appendChild(btn);
        }else if(st.started){
          const btn = document.createElement("button");
          btn.className = "btn btn-small";
          btn.innerHTML = `<i data-lucide="play"></i> –ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏`;
          btn.onclick = ()=>continueCourse(c.id);
          actions.appendChild(btn);
        }else{
          const btn = document.createElement("button");
          btn.className = "btn btn-small";
          btn.innerHTML = `<i data-lucide="rocket"></i> –ü–æ—á–∞—Ç–∏ –∫—É—Ä—Å`;
          btn.onclick = ()=>startCourse(c.id);
          actions.appendChild(btn);
        }
      }

      allCoursesListEl.appendChild(card);
    });
  }

  // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—Ä–∏ –≤—Ö–æ–¥—ñ
  (function init(){
    // –ø–µ—Ä—à–∏–π –≤—Ö—ñ–¥?
    let state = loadProfileState();
    if(!state){
      highlightAvatar("1");
      openNameModal(true);
    }else{
      highlightAvatar(state.avatarId || "1");
      applyStateToUI(state);
    }
  })();
</script>

</body>
</html>
